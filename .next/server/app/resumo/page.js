(()=>{var e={};e.id=599,e.ids=[599],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9663:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>i,routeModule:()=>h,tree:()=>c});var a=t(482),r=t(9108),l=t(2563),o=t.n(l),d=t(8300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["resumo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4261)),"/home/nexus/Documentos/Andressa/src/app/resumo/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1909)),"/home/nexus/Documentos/Andressa/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],i=["/home/nexus/Documentos/Andressa/src/app/resumo/page.tsx"],x="/resumo/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/resumo/page",pathname:"/resumo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9407:(e,s,t)=>{Promise.resolve().then(t.bind(t,6952))},8411:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5904:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},7402:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6064:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6952:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(2295),r=t(3729),l=t(340),o=t(6064),d=t(7402),n=t(8411),c=t(5904);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(9224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var x=t(2923),m=t(8704),h=t(1453);function p(){let[e,s]=(0,r.useState)([]),[t,p]=(0,r.useState)(!0),[u,j]=(0,r.useState)(null),[g,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{N()},[]);let N=async()=>{try{p(!0);let e=await (0,m.SL)(),t=f(e);s(t),j(null)}catch(e){console.error("Erro ao carregar dados:",e),j("Erro ao carregar dados")}finally{p(!1)}},f=e=>{let s=new Map;return e.forEach(e=>{let t=s.get(e.mes)||{mes:e.mes,totalOrcamentos:0,totalFechados:0,totalPerdidos:0,valorProposto:0,valorFechado:0,taxaConversao:0};t.totalOrcamentos++,t.valorProposto+=e.valor_proposto,"Fechado"===e.status?(t.totalFechados++,t.valorFechado+=e.valor_fechado):t.totalPerdidos++,t.taxaConversao=(0,h.d5)(t.totalFechados,t.totalOrcamentos),s.set(e.mes,t)}),Array.from(s.values()).sort((e,s)=>{let[t,a]=e.mes.split("/"),[r,l]=s.mes.split("/"),o=new Date(parseInt(a),parseInt(t)-1);return new Date(parseInt(l),parseInt(r)-1).getTime()-o.getTime()})},b=e.reduce((e,s)=>({totalOrcamentos:e.totalOrcamentos+s.totalOrcamentos,totalFechados:e.totalFechados+s.totalFechados,totalPerdidos:e.totalPerdidos+s.totalPerdidos,valorProposto:e.valorProposto+s.valorProposto,valorFechado:e.valorFechado+s.valorFechado}),{totalOrcamentos:0,totalFechados:0,totalPerdidos:0,valorProposto:0,valorFechado:0}),y=(0,h.d5)(b.totalFechados,b.totalOrcamentos);return t?a.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:a.jsx(x.TK,{size:"lg"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold font-heading text-white",children:"Resumo Mensal"}),a.jsx("p",{className:"text-dark-400 mt-1",children:"Vis\xe3o consolidada dos or\xe7amentos por m\xeas"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center",children:a.jsx(l.Z,{className:"w-5 h-5 text-primary-400"})})}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:b.totalOrcamentos}),a.jsx("p",{className:"text-sm text-dark-400",children:"Total Or\xe7amentos"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:a.jsx(o.Z,{className:"w-5 h-5 text-emerald-400"})})}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-emerald-400",children:b.totalFechados}),a.jsx("p",{className:"text-sm text-dark-400",children:"Fechados"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:a.jsx(d.Z,{className:"w-5 h-5 text-red-400"})})}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-red-400",children:b.totalPerdidos}),a.jsx("p",{className:"text-sm text-dark-400",children:"Perdidos"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center",children:a.jsx(n.Z,{className:"w-5 h-5 text-primary-400"})})}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-white",children:(0,h.xG)(b.valorFechado)}),a.jsx("p",{className:"text-sm text-dark-400",children:"Valor Total Fechado"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6 col-span-2 lg:col-span-1",children:[a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:a.jsx(c.Z,{className:"w-5 h-5 text-amber-400"})})}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-amber-400",children:(0,h.T3)(y)}),a.jsx("p",{className:"text-sm text-dark-400",children:"Taxa de Convers\xe3o"})]})]}),(0,a.jsxs)("div",{className:"glass-card overflow-hidden",children:[a.jsx("div",{className:"p-4 lg:p-6 border-b border-dark-700",children:(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[a.jsx(i,{className:"w-5 h-5 text-primary-400"}),"Resumo por M\xeas"]})}),e.length>0?a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"M\xeas"}),a.jsx("th",{className:"text-center",children:"Or\xe7amentos"}),a.jsx("th",{className:"text-center",children:"Fechados"}),a.jsx("th",{className:"text-center",children:"Perdidos"}),a.jsx("th",{className:"text-right",children:"Valor Proposto"}),a.jsx("th",{className:"text-right",children:"Valor Fechado"}),a.jsx("th",{className:"text-center",children:"Taxa Convers\xe3o"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:`cursor-pointer transition-colors ${g===e.mes?"bg-primary-500/10":""}`,onClick:()=>v(g===e.mes?null:e.mes),children:[a.jsx("td",{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/20 flex items-center justify-center",children:a.jsx(i,{className:"w-4 h-4 text-primary-400"})}),a.jsx("span",{className:"font-semibold text-white",children:e.mes})]})}),a.jsx("td",{className:"text-center",children:a.jsx("span",{className:"px-3 py-1 rounded-lg bg-dark-800 text-dark-300 font-medium",children:e.totalOrcamentos})}),a.jsx("td",{className:"text-center",children:a.jsx(x.Ct,{variant:"success",children:e.totalFechados})}),a.jsx("td",{className:"text-center",children:a.jsx(x.Ct,{variant:"danger",children:e.totalPerdidos})}),a.jsx("td",{className:"text-right text-dark-300",children:(0,h.xG)(e.valorProposto)}),a.jsx("td",{className:"text-right font-semibold text-primary-400",children:(0,h.xG)(e.valorFechado)}),a.jsx("td",{className:"text-center",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2",children:[a.jsx("div",{className:"w-20 h-2 bg-dark-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-emerald-500 rounded-full transition-all duration-500",style:{width:`${e.taxaConversao}%`}})}),a.jsx("span",{className:`text-sm font-medium ${e.taxaConversao>=70?"text-emerald-400":e.taxaConversao>=50?"text-amber-400":"text-red-400"}`,children:(0,h.T3)(e.taxaConversao)})]})})]},e.mes))}),a.jsx("tfoot",{className:"border-t-2 border-dark-600",children:(0,a.jsxs)("tr",{className:"bg-dark-800/50",children:[a.jsx("td",{className:"font-bold text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500/30 to-emerald-500/30 flex items-center justify-center",children:a.jsx(l.Z,{className:"w-4 h-4 text-white"})}),"TOTAL GERAL"]})}),a.jsx("td",{className:"text-center font-bold text-white",children:b.totalOrcamentos}),a.jsx("td",{className:"text-center font-bold text-emerald-400",children:b.totalFechados}),a.jsx("td",{className:"text-center font-bold text-red-400",children:b.totalPerdidos}),a.jsx("td",{className:"text-right font-bold text-dark-300",children:(0,h.xG)(b.valorProposto)}),a.jsx("td",{className:"text-right font-bold text-primary-400",children:(0,h.xG)(b.valorFechado)}),a.jsx("td",{className:"text-center font-bold text-amber-400",children:(0,h.T3)(y)})]})})]})}):a.jsx(x.ub,{title:"Nenhum dado dispon\xedvel",description:"Adicione or\xe7amentos para ver o resumo mensal"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDCCA Performance Geral"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-dark-400",children:"Ticket M\xe9dio (Fechado)"}),a.jsx("span",{className:"text-white font-semibold",children:b.totalFechados>0?(0,h.xG)(b.valorFechado/b.totalFechados):(0,h.xG)(0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-dark-400",children:"Ticket M\xe9dio (Proposto)"}),a.jsx("span",{className:"text-white font-semibold",children:b.totalOrcamentos>0?(0,h.xG)(b.valorProposto/b.totalOrcamentos):(0,h.xG)(0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-dark-400",children:"Convers\xe3o de Valor"}),a.jsx("span",{className:`font-semibold ${b.valorProposto>0?b.valorFechado/b.valorProposto>=.5?"text-emerald-400":"text-amber-400":"text-dark-400"}`,children:b.valorProposto>0?(0,h.T3)(b.valorFechado/b.valorProposto*100):"0%"})]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83C\uDFAF Metas e Objetivos"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-dark-400",children:"Taxa de Convers\xe3o"}),(0,a.jsxs)("span",{className:"text-white",children:[(0,h.T3)(y)," / 70%"]})]}),a.jsx("div",{className:"w-full h-3 bg-dark-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-emerald-500 rounded-full transition-all duration-700",style:{width:`${Math.min(y/70*100,100)}%`}})})]}),a.jsx("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700",children:a.jsx("p",{className:"text-sm text-dark-400",children:y>=70?"\uD83C\uDF89 Excelente! Voc\xea est\xe1 acima da meta de convers\xe3o!":y>=50?"\uD83D\uDC4D Bom trabalho! Continue assim para atingir a meta.":"\uD83D\uDCAA H\xe1 espa\xe7o para melhorias. Foque na qualifica\xe7\xe3o dos leads."})})]})]})]})]})}},4261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>o});let a=(0,t(6843).createProxy)(String.raw`/home/nexus/Documentos/Andressa/src/app/resumo/page.tsx`),{__esModule:r,$$typeof:l}=a,o=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9,398,19],()=>t(9663));module.exports=a})();