(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{92457:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},92919:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},83523:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},41298:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},76637:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},78083:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]])},4322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},64280:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},41827:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},49036:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},93505:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},92851:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},4871:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]])},25750:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},34822:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])},82549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35031:function(e,t,r){Promise.resolve().then(r.t.bind(r,63385,23)),Promise.resolve().then(r.bind(r,18648))},18648:function(e,t,r){"use strict";r.r(t),r.d(t,{Providers:function(){return ee}});var a=r(57437),n=r(83779),i=r(11464),o=r(24033),s=r(2265),c=r(61396),l=r.n(c),d=r(16691),u=r.n(d),m=r(62898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,m.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),f=(0,m.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var x=r(76637),p=r(4322),y=r(78083),g=r(15713);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,m.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var w=r(34822),b=r(41298);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,m.Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var j=r(25750),N=r(4871);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let M=(0,m.Z)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var Z=r(93505);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=(0,m.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var C=r(92457);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let A=(0,m.Z)("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var S=r(29409),I=r(92919),O=r(83523),L=r(17158),D=r(82549);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let R=(0,m.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),T=(0,m.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var z=r(49036);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let F=(0,m.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var P=r(22169);let q=[{name:"Opera\xe7\xe3o",icon:h,items:[{name:"Dashboard",href:"/admin",icon:f},{name:"Or\xe7amentos",href:"/orcamentos",icon:x.Z},{name:"Materiais",href:"/materiais",icon:p.Z},{name:"Obras",href:"/obras",icon:y.Z}]},{name:"Comercial",icon:g.Z,items:[{name:"Vendas",href:"/vendas",icon:g.Z},{name:"OS (Detalhado)",href:"/os",icon:k}]},{name:"Financeiro",icon:w.Z,items:[{name:"Financeiro",href:"/financeiro",icon:w.Z},{name:"Caixa",href:"/caixa",icon:b.Z}]},{name:"Cadastros",icon:v,items:[{name:"Clientes/Fornecedores",href:"/clientes",icon:j.Z},{name:"Estoque",href:"/estoque",icon:p.Z},{name:"Categorias Financeiras",href:"/categorias-financeiras",icon:N.Z}]},{name:"Fiscal",icon:M,items:[{name:"Notas Fiscais",href:"/notas-fiscais",icon:M},{name:"Compras (XML)",href:"/compras",icon:Z.Z}]},{name:"Relat\xf3rios",icon:E,items:[{name:"Relat\xf3rios",href:"/relatorios",icon:E},{name:"Resumo",href:"/resumo",icon:C.Z}]},{name:"Configura\xe7\xf5es",icon:A,items:[{name:"Geral",href:"/configuracoes",icon:S.Z},{name:"Fiscal",href:"/configuracoes/fiscal",icon:I.Z},{name:"Usu\xe1rios",href:"/admin/usuarios",icon:j.Z}]}],U=[{name:"Obras",href:"/",icon:y.Z}],G=["/admin","/orcamentos","/os","/materiais","/resumo","/configuracoes","/obras","/estoque","/compras","/clientes","/financeiro","/caixa","/relatorios","/vendas","/notas-fiscais","/categorias-financeiras","/admin/usuarios"];function H(e){let{group:t,isOpen:r,onToggle:n,pathname:i,onMobileClose:o}=e,s=t.items.some(e=>i===e.href||i.startsWith(e.href+"/"));return(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsxs)("button",{onClick:n,className:(0,P.cn)("w-full flex items-center justify-between px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200",s?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:text-white hover:bg-dark-800/50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(t.icon,{className:(0,P.cn)("w-5 h-5",s?"text-primary-400":"text-dark-500")}),(0,a.jsx)("span",{children:t.name})]}),r?(0,a.jsx)(O.Z,{className:"w-4 h-4 text-dark-500"}):(0,a.jsx)(L.Z,{className:"w-4 h-4 text-dark-500"})]}),(0,a.jsx)("div",{className:(0,P.cn)("overflow-hidden transition-all duration-200",r?"max-h-96 opacity-100 mt-1":"max-h-0 opacity-0"),children:(0,a.jsx)("div",{className:"pl-4 space-y-0.5",children:t.items.map(e=>{let t=i===e.href||"/admin"!==e.href&&i.startsWith(e.href+"/");return(0,a.jsxs)(l(),{href:e.href,onClick:o,className:(0,P.cn)("flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all duration-200 group",t?"bg-primary-500/20 text-primary-400 border-l-2 border-primary-400":"text-dark-400 hover:text-white hover:bg-dark-800/60 border-l-2 border-transparent"),children:[(0,a.jsx)(e.icon,{className:(0,P.cn)("w-4 h-4 transition-transform duration-200 group-hover:scale-110",t?"text-primary-400":"text-dark-500 group-hover:text-primary-400")}),(0,a.jsx)("span",{children:e.name}),t&&(0,a.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary-400 animate-pulse"})]},e.href)})})})]})}function J(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),{usuario:r,logout:c,authEnabled:d}=(0,n.a)(),{isAuthenticated:m,logout:h,email:f}=(0,i.J)(),[x,p]=(0,s.useState)(!1),[g,k]=(0,s.useState)([]),w=G.some(t=>e.startsWith(t)&&"/"!==t);(0,s.useEffect)(()=>{if(w){let t=q.find(t=>t.items.some(t=>e===t.href||e.startsWith(t.href+"/")));t&&k(e=>e.includes(t.name)?e:[...e,t.name])}},[e,w]);let b=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},v=()=>p(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-xl bg-dark-800 text-white",onClick:()=>p(!x),children:x?(0,a.jsx)(D.Z,{size:24}):(0,a.jsx)(R,{size:24})}),x&&(0,a.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>p(!1)}),(0,a.jsx)("aside",{className:(0,P.cn)("fixed top-0 left-0 h-screen w-64 z-40 transition-transform duration-300 ease-in-out","bg-gradient-to-b from-dark-900 via-dark-900 to-dark-950 border-r border-dark-800",x?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-dark-800",children:(0,a.jsxs)(l(),{href:"/",className:"flex items-center gap-3 group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl overflow-hidden shadow-glow group-hover:shadow-glow-lg transition-shadow",children:(0,a.jsx)(u(),{src:(0,P.K3)("/images/logo.jpeg"),alt:"Logo",width:48,height:48,className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary-400 rounded-full animate-pulse"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-heading font-bold text-lg text-white",children:"Irriga"}),(0,a.jsx)("p",{className:"text-xs text-primary-400 font-medium",children:"Centro Oeste"})]})]})}),(0,a.jsxs)("nav",{className:"flex-1 p-4 overflow-y-auto scrollbar-thin",children:[w&&(0,a.jsxs)("button",{onClick:()=>{t.push("/")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group text-dark-400 hover:text-white hover:bg-dark-800/80 mb-4",children:[(0,a.jsx)(T,{className:"w-5 h-5 text-dark-500 group-hover:text-primary-400"}),(0,a.jsx)("span",{children:"Voltar para Obras"})]}),(0,a.jsx)("p",{className:"px-3 text-xs font-semibold text-dark-500 uppercase tracking-wider mb-3",children:w?"Menu Administrativo":"Menu Principal"}),w?(0,a.jsx)("div",{className:"space-y-1",children:q.map(t=>(0,a.jsx)(H,{group:t,isOpen:g.includes(t.name),onToggle:()=>b(t.name),pathname:e,onMobileClose:v},t.name))}):(0,a.jsx)("div",{className:"space-y-2",children:U.map(t=>{let r=e===t.href;return(0,a.jsxs)(l(),{href:t.href,onClick:v,className:(0,P.cn)("flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group",r?"bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 border border-primary-500/30 shadow-glow":"text-dark-400 hover:text-white hover:bg-dark-800/80"),children:[(0,a.jsx)(t.icon,{className:(0,P.cn)("w-5 h-5 transition-transform duration-200 group-hover:scale-110",r?"text-primary-400":"text-dark-500 group-hover:text-primary-400")}),(0,a.jsx)("span",{children:t.name}),r&&(0,a.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary-400 animate-pulse"})]},t.name)})}),!w&&(0,a.jsx)("div",{className:"pt-4 mt-4 border-t border-dark-800",children:(0,a.jsxs)("button",{onClick:()=>{m?t.push("/admin"):t.push("/admin/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group bg-gradient-to-r from-accent-500/10 to-accent-600/5 text-accent-400 border border-accent-500/20 hover:border-accent-500/40 hover:from-accent-500/20 hover:to-accent-600/10",children:[(0,a.jsx)(z.Z,{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110"}),(0,a.jsx)("span",{children:"\xc1rea Administrativa"})]})})]}),(0,a.jsx)("div",{className:"p-4 border-t border-dark-800",children:w&&m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"glass rounded-xl p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-500 to-accent-700 flex items-center justify-center text-white font-bold",children:(0,a.jsx)(z.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin"}),(0,a.jsx)("p",{className:"text-xs text-dark-400 truncate max-w-[140px]",children:f})]})]})}),(0,a.jsxs)("button",{onClick:()=>{h(),t.push("/")},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-dark-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",children:[(0,a.jsx)(F,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sair da \xc1rea Admin"})]})]}):(0,a.jsxs)("div",{className:"glass rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold",children:(0,a.jsx)(y.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:d&&r?r.nome:"Funcion\xe1rio"}),(0,a.jsx)("p",{className:"text-xs text-dark-400",children:d&&r?r.email:"\xc1rea de Obras"})]})]}),d&&r&&(0,a.jsxs)("button",{onClick:()=>{c(),t.push("/login")},className:"w-full mt-3 flex items-center justify-center gap-2 px-4 py-2 rounded-xl text-dark-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",children:[(0,a.jsx)(F,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sair"})]})]})})]})})]})}var V=r(41827),_=r(64280),B=r(3021);function W(){let[e,t]=(0,s.useState)(!1);return(0,a.jsx)("header",{className:"sticky top-0 z-30 glass border-b border-dark-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 lg:px-8 py-4",children:[(0,a.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(V.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar or\xe7amentos...",className:"w-full pl-12 pr-4 py-2.5 bg-dark-800/50 border border-dark-700 rounded-xl text-dark-200 placeholder-dark-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500/50 transition-all"})]})}),(0,a.jsx)("div",{className:"md:hidden pl-12",children:(0,a.jsx)("h1",{className:"text-lg font-bold text-white",children:"Controle"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{t(!0),setTimeout(()=>t(!1),1e3),window.location.reload()},className:"p-2.5 rounded-xl bg-dark-800/50 border border-dark-700 text-dark-400 hover:text-primary-400 hover:border-primary-500/50 transition-all ".concat(e?"animate-spin":""),title:"Sincronizar dados",children:(0,a.jsx)(_.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{className:"relative p-2.5 rounded-xl bg-dark-800/50 border border-dark-700 text-dark-400 hover:text-primary-400 hover:border-primary-500/50 transition-all",children:[(0,a.jsx)(B.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-primary-500 rounded-full animate-pulse"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-3 pl-3 border-l border-dark-700",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"Ol\xe1, Andressa!"}),(0,a.jsx)("p",{className:"text-xs text-dark-400",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"short"})})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center text-white font-bold shadow-glow",children:"A"})]})]})]})})}var K=r(548);let X=["/login","/admin/login"],Q=["/admin","/orcamentos","/obras","/materiais","/resumo","/configuracoes"],Y="/controle-orcamentos";function $(e){let{children:t}=e,r=(0,o.usePathname)(),c=(0,o.useRouter)(),{loading:l}=(0,n.a)(),{isAuthenticated:d,loading:u}=(0,i.J)(),[m,h]=(0,s.useState)(!1),f=(0,s.useMemo)(()=>{let e=r||"";return e.startsWith(Y)&&(e=e.slice(Y.length)),e.endsWith("/")&&e.length>1&&(e=e.slice(0,-1)),e||"/"},[r]),x=X.includes(f),p=Q.some(e=>f===e||f.startsWith(e+"/"));return((0,s.useEffect)(()=>{h(!0)},[]),(0,s.useEffect)(()=>{!m||l||u||!p||d||c.push("/admin/login")},[m,d,l,u,p,c]),x)?(0,a.jsx)(a.Fragment,{children:t}):l||u||p&&!d?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-dark-950",children:(0,a.jsx)(K.TK,{size:"lg"})}):(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(J,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-64",children:[(0,a.jsx)(W,{}),(0,a.jsx)("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:t})]})]})}function ee(e){let{children:t}=e;return(0,a.jsx)(n.H,{children:(0,a.jsx)(i.W,{children:(0,a.jsx)($,{children:t})})})}},548:function(e,t,r){"use strict";r.d(t,{Ct:function(){return c},TK:function(){return s},ub:function(){return o}});var a=r(57437),n=r(22169),i=r(92851);function o(e){let{icon:t,title:r,description:n,action:o}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-dark-800 flex items-center justify-center mb-6",children:t||(0,a.jsx)(i.Z,{className:"w-10 h-10 text-dark-500"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:r}),n&&(0,a.jsx)("p",{className:"text-dark-400 max-w-sm mb-6",children:n}),o]})}function s(e){let{size:t="md"}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:(0,n.cn)("rounded-full border-dark-700 border-t-primary-500 animate-spin",{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4"}[t])})})}function c(e){let{children:t,variant:r="success",size:i="md",className:o}=e;return(0,a.jsx)("span",{className:(0,n.cn)("badge",{success:"badge-success",danger:"badge-danger",warning:"badge-warning",info:"badge-info",primary:"badge-info",secondary:"bg-dark-600 text-dark-300"}[r],{sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"}[i],o),children:t})}},11464:function(e,t,r){"use strict";r.d(t,{J:function(){return l},W:function(){return c}});var a=r(57437),n=r(2265),i=r(24033);let o=(0,n.createContext)(void 0),s={getItem:e=>{try{if(window.localStorage)return localStorage.getItem(e)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}return null},setItem:(e,t)=>{try{window.localStorage&&localStorage.setItem(e,t)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}},removeItem:e=>{try{window.localStorage&&localStorage.removeItem(e)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}}};function c(e){let{children:t}=e,[r,c]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),h=(0,i.useRouter)(),f=(0,i.usePathname)();return(0,n.useEffect)(()=>{try{let e=s.getItem("adminAuth"),t=s.getItem("adminEmail");"true"===e&&(c(!0),d(t))}catch(e){console.warn("Erro ao verificar autentica\xe7\xe3o:",e)}m(!1)},[]),(0,n.useEffect)(()=>{if(!u){let e=null==f?void 0:f.startsWith("/admin"),t="/admin/login"===f;!e||t||r||h.push("/admin/login")}},[f,r,u,h]),(0,a.jsx)(o.Provider,{value:{isAuthenticated:r,email:l,login:e=>{s.setItem("adminAuth","true"),s.setItem("adminEmail",e),c(!0),d(e)},logout:()=>{s.removeItem("adminAuth"),s.removeItem("adminEmail"),c(!1),d(null),h.push("/")},loading:u},children:t})}function l(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAdminAuth must be used within an AdminAuthProvider");return e}},83779:function(e,t,r){"use strict";r.d(t,{H:function(){return c},a:function(){return l}});var a=r(57437),n=r(2265),i=r(14958);let o=(0,n.createContext)(void 0),s={getItem:e=>{try{if(window.localStorage)return localStorage.getItem(e)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}return null},setItem:(e,t)=>{try{window.localStorage&&localStorage.setItem(e,t)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}},removeItem:e=>{try{window.localStorage&&localStorage.removeItem(e)}catch(e){console.warn("localStorage n\xe3o dispon\xedvel:",e)}}};function c(e){let{children:t}=e,[r,c]=(0,n.useState)(null),[l,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=s.getItem("usuario");if(e)try{let t=JSON.parse(e);c(t),m(!0)}catch(e){s.removeItem("usuario")}d(!1)},[]);let h=async(e,t)=>{try{let r=await (0,i.Kx)(e,t);if(r)return c(r),m(!0),s.setItem("usuario",JSON.stringify(r)),!0;return!1}catch(e){return console.error("Erro no login:",e),!1}},f=!u||(null==r?void 0:r.tipo)==="admin";return(0,a.jsx)(o.Provider,{value:{usuario:r,loading:l,login:h,logout:()=>{c(null),m(!1),s.removeItem("usuario")},isAdmin:f,authEnabled:u},children:t})}function l(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth deve ser usado dentro de um AuthProvider");return e}},14958:function(e,t,r){"use strict";r.d(t,{AE:function(){return f},AT:function(){return v},FZ:function(){return w},GL:function(){return s},Gx:function(){return u},JA:function(){return o},Kx:function(){return k},OQ:function(){return a},Qf:function(){return y},S3:function(){return j},SE:function(){return c},SL:function(){return n},VR:function(){return d},gQ:function(){return p},hM:function(){return l},mU:function(){return b},nx:function(){return i},r0:function(){return m},uY:function(){return h},y5:function(){return x},zM:function(){return g}});let a=(0,r(69073).eI)("https://yhiiupamxdjmnrktkjku.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloaWl1cGFteGRqbW5ya3Rramt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0ODg2NzUsImV4cCI6MjA4NDA2NDY3NX0._QjYtYAlypJdursHe0-rPz14QOT4NNP2EklqcJ6TpkI");async function n(){let{data:e,error:t}=await a.from("orcamentos").select("*").order("data",{ascending:!1});if(t)throw console.error("Erro ao buscar or\xe7amentos:",t),t;return e||[]}async function i(e){let{data:t,error:r}=await a.from("orcamentos").insert([e]).select().single();if(r)throw console.error("Erro ao criar or\xe7amento:",r),Error(r.message);return t}async function o(e,t){let{data:r,error:n}=await a.from("orcamentos").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar or\xe7amento:",n),Error(n.message);return r}async function s(e){let{error:t}=await a.from("orcamentos").delete().eq("id",e);if(t)throw console.error("Erro ao excluir or\xe7amento:",t),Error(t.message)}async function c(){let{data:e,error:t}=await a.from("materiais").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar materiais:",t),t;return e||[]}async function l(e){let{data:t,error:r}=await a.from("materiais").insert([e]).select().single();if(r)throw console.error("Erro ao criar material:",r),Error(r.message);return t}async function d(e,t){let{data:r,error:n}=await a.from("materiais").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar material:",n),Error(n.message);return r}async function u(e){let{error:t}=await a.from("materiais").delete().eq("id",e);if(t)throw console.error("Erro ao excluir material:",t),Error(t.message)}async function m(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente, status)\n    ").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras:",t),t;return e||[]}async function h(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente)\n    ").eq("status","em_andamento").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras em andamento:",t),t;return e||[]}async function f(e){let{data:t,error:r}=await a.from("obras").insert([e]).select().single();if(r)throw console.error("Erro ao criar obra:",r),Error(r.message);return t}async function x(e,t){let{data:r,error:n}=await a.from("obras").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar obra:",n),Error(n.message);return r}async function p(e){let{error:t}=await a.from("obras").delete().eq("id",e);if(t)throw console.error("Erro ao excluir obra:",t),Error(t.message)}async function y(e){let{data:t,error:r}=await a.from("obra_materiais").select("\n      *,\n      material:materiais(id, nome)\n    ").eq("obra_id",e);if(r)throw console.error("Erro ao buscar materiais da obra:",r),r;return t||[]}async function g(e){let{data:t}=await a.from("obra_materiais").select("id").eq("obra_id",e.obra_id).eq("material_id",e.material_id).single();if(t){let{data:r,error:n}=await a.from("obra_materiais").update({quantidade:e.quantidade}).eq("id",t.id).select().single();if(n)throw Error(n.message);return r}{let{data:t,error:r}=await a.from("obra_materiais").insert([e]).select().single();if(r)throw Error(r.message);return t}}async function k(e,t){let{data:r,error:n}=await a.from("usuarios").select("*").ilike("email",e.trim()).eq("senha",t).single();return n?(console.error("Erro no login:",n),null):r}async function w(){let{data:e,error:t}=await a.from("usuarios").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar usu\xe1rios:",t),t;return e||[]}async function b(e){let{data:t,error:r}=await a.from("usuarios").insert([e]).select().single();if(r)throw console.error("Erro ao criar usu\xe1rio:",r),Error(r.message);return t}async function v(e,t){let{data:r,error:n}=await a.from("usuarios").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar usu\xe1rio:",n),Error(n.message);return r}async function j(e){let{error:t}=await a.from("usuarios").delete().eq("id",e);if(t)throw console.error("Erro ao excluir usu\xe1rio:",t),Error(t.message)}},22169:function(e,t,r){"use strict";r.d(t,{K3:function(){return h},T3:function(){return c},Wi:function(){return d},Wt:function(){return u},cn:function(){return i},d5:function(){return l},fj:function(){return m},p6:function(){return s},xG:function(){return o},zm:function(){return p}});var a=r(57042),n=r(74769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function o(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function s(e){if(!e)return"-";let t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("pt-BR")}function c(e){return"".concat(e.toFixed(1),"%")}function l(e,t){return t&&0!==t?e/t*100:0}function d(e){return("string"==typeof e?parseFloat(e)||0:e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function u(e){return e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0}function m(e){let t=e.replace(/\D/g,"");return t?(parseInt(t)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function h(e){return"".concat("/controle-orcamentos").concat(e)}let f=["UN","PC","KG","G","L","ML","M","CM","M2","M3","CX","PAR","SC","FD","PCT","RL","TON","DZ","CT","BD","JG","KIT","AMPOLA","UNID","PECA","METRO","LITRO","QUILO","CAIXA","SACO","FARDO","PACOTE","ROLO","DUZIA","CARTELA","BALDE","JOGO"],x={UNID:"UN",UNIDADE:"UN",UNIDADES:"UN",PECA:"PC",PEÇA:"PC",PECAS:"PC",PEÇAS:"PC",METRO:"M",METROS:"M",LITRO:"L",LITROS:"L",QUILO:"KG",QUILOS:"KG",QUILOGRAMA:"KG",QUILOGRAMAS:"KG",GRAMA:"G",GRAMAS:"G",MILILITRO:"ML",MILILITROS:"ML",CENTIMETRO:"CM",CENTIMETROS:"CM",CENTÍMETRO:"CM",CENTÍMETROS:"CM",CAIXA:"CX",CAIXAS:"CX",SACO:"SC",SACOS:"SC",FARDO:"FD",FARDOS:"FD",PACOTE:"PCT",PACOTES:"PCT",ROLO:"RL",ROLOS:"RL",TONELADA:"TON",TONELADAS:"TON",DUZIA:"DZ",DÚZIA:"DZ",DUZIAS:"DZ",CARTELA:"CT",CARTELAS:"CT",BALDE:"BD",BALDES:"BD",JOGO:"JG",JOGOS:"JG"};function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UN";if(null==e)return t;if("number"==typeof e)return console.warn("[normalizeUnidade] Valor num\xe9rico recebido: ".concat(e,". Usando default: ").concat(t)),t;let r=String(e).trim().toUpperCase();if(!r)return t;if(/^\d+$/.test(r))return console.warn('[normalizeUnidade] String num\xe9rica recebida: "'.concat(e,'". Usando default: ').concat(t)),t;if(x[r])return x[r];if(f.includes(r))return r;let a=r.split(/\s+/)[0];return f.includes(a)?a:x[a]?x[a]:(console.warn('[normalizeUnidade] Unidade desconhecida: "'.concat(e,'". Usando default: ').concat(t)),t)}},63385:function(){},24033:function(e,t,r){e.exports=r(15313)}},function(e){e.O(0,[149,985,691,725,971,938,744],function(){return e(e.s=35031)}),_N_E=e.O()}]);