(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{11981:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},98253:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},13008:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},53711:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},77216:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},99670:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},76637:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},64280:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},92295:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},29409:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49036:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},43474:function(e,t,r){Promise.resolve().then(r.bind(r,23998))},23998:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(57437),s=r(2265),o=r(24033),n=r(14958),i=r(64280),l=r(76637),c=r(92295),d=r(13008),u=r(11981),m=r(98253),x=r(49036),h=r(29409),f=r(53711),g=r(77216),p=r(99670);r(40263).Buffer;let b={token:"2ULj65rWvkjqHXwopIPyDZx7jxvZqCsk",ambiente:"homologacao"},w={cnpj:"",inscricao_estadual:"",inscricao_municipal:"",razao_social:"",nome_fantasia:"",logradouro:"",numero:"",complemento:"",bairro:"",codigo_municipio:"",municipio:"",uf:"",cep:"",telefone:"",regime_tributario:1,focusnfe_token:"2ULj65rWvkjqHXwopIPyDZx7jxvZqCsk",focusnfe_ambiente:"homologacao",csc_nfce:"",id_token_nfce:"",serie_nfe:1,serie_nfce:1,serie_nfse:1,natureza_operacao_padrao:"Venda",cfop_padrao:"5102",informacoes_complementares:"",ativo:!0},y=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];function j(){(0,o.useRouter)();let[e,t]=(0,s.useState)(w),[r,j]=(0,s.useState)(!0),[N,v]=(0,s.useState)(!1),[k,_]=(0,s.useState)("emitente"),[C,E]=(0,s.useState)(!1),[Z,S]=(0,s.useState)(null),[I,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{F()},[]);let F=async()=>{try{let{data:e,error:r}=await n.OQ.from("config_fiscal").select("*").eq("ativo",!0).single();e&&t(e)}catch(e){console.log("Configura\xe7\xe3o fiscal n\xe3o encontrada, usando valores iniciais")}finally{j(!1)}},M=e=>{let{name:r,value:a,type:s}=e.target;t(e=>({...e,[r]:"number"===s?parseInt(a)||0:a}))},z=async()=>{v(!0),q(null);try{if(!e.cnpj||!e.razao_social)throw Error("CNPJ e Raz\xe3o Social s\xe3o obrigat\xf3rios");let r={...e,cnpj:e.cnpj.replace(/\D/g,""),cep:e.cep.replace(/\D/g,""),telefone:e.telefone.replace(/\D/g,""),updated_at:new Date().toISOString()};if(e.id){let{error:t}=await n.OQ.from("config_fiscal").update(r).eq("id",e.id);if(t)throw t}else{let{data:e,error:a}=await n.OQ.from("config_fiscal").insert([r]).select().single();if(a)throw a;t(e)}q({type:"success",text:"Configura\xe7\xf5es salvas com sucesso!"})}catch(e){q({type:"error",text:e.message||"Erro ao salvar configura\xe7\xf5es"})}finally{v(!1)}};return r?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 animate-spin text-blue-500"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-7 h-7 text-blue-400"}),"Configura\xe7\xe3o Fiscal"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Configure os dados do emitente e integra\xe7\xe3o com Focus NFe"})]}),(0,a.jsxs)("button",{onClick:z,disabled:N,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[N?(0,a.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Salvar Configura\xe7\xf5es"]})]}),I&&(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-center gap-2 ".concat("success"===I.type?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),children:["success"===I.type?(0,a.jsx)(d.Z,{className:"w-5 h-5"}):(0,a.jsx)(u.Z,{className:"w-5 h-5"}),I.text]}),(0,a.jsxs)("div",{className:"flex gap-2 border-b border-white/10 pb-2",children:[(0,a.jsxs)("button",{onClick:()=>_("emitente"),className:"px-4 py-2 rounded-t-lg flex items-center gap-2 transition-colors ".concat("emitente"===k?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Dados do Emitente"]}),(0,a.jsxs)("button",{onClick:()=>_("fiscal"),className:"px-4 py-2 rounded-t-lg flex items-center gap-2 transition-colors ".concat("fiscal"===k?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Configura\xe7\xf5es Fiscais"]}),(0,a.jsxs)("button",{onClick:()=>_("api"),className:"px-4 py-2 rounded-t-lg flex items-center gap-2 transition-colors ".concat("api"===k?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-white/5"),children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),"API Focus NFe"]})]}),(0,a.jsxs)("div",{className:"glass-card p-6 rounded-xl",children:["emitente"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Dados da Empresa Emitente"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"CNPJ *"}),(0,a.jsx)("input",{type:"text",name:"cnpj",value:e.cnpj.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5"),onChange:e=>t(t=>({...t,cnpj:e.target.value})),maxLength:18,placeholder:"00.000.000/0000-00",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Inscri\xe7\xe3o Estadual"}),(0,a.jsx)("input",{type:"text",name:"inscricao_estadual",value:e.inscricao_estadual,onChange:M,placeholder:"Inscri\xe7\xe3o Estadual",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Inscri\xe7\xe3o Municipal"}),(0,a.jsx)("input",{type:"text",name:"inscricao_municipal",value:e.inscricao_municipal,onChange:M,placeholder:"Inscri\xe7\xe3o Municipal",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Raz\xe3o Social *"}),(0,a.jsx)("input",{type:"text",name:"razao_social",value:e.razao_social,onChange:M,placeholder:"Raz\xe3o Social da Empresa",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome Fantasia"}),(0,a.jsx)("input",{type:"text",name:"nome_fantasia",value:e.nome_fantasia,onChange:M,placeholder:"Nome Fantasia",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("hr",{className:"border-white/10"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-white",children:"Endere\xe7o"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"CEP *"}),(0,a.jsx)("input",{type:"text",name:"cep",value:e.cep.replace(/\D/g,"").replace(/^(\d{5})(\d{3}).*/,"$1-$2"),onChange:e=>t(t=>({...t,cep:e.target.value})),maxLength:9,placeholder:"00000-000",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Logradouro *"}),(0,a.jsx)("input",{type:"text",name:"logradouro",value:e.logradouro,onChange:M,placeholder:"Rua, Avenida, etc.",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"N\xfamero *"}),(0,a.jsx)("input",{type:"text",name:"numero",value:e.numero,onChange:M,placeholder:"N\xba",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Complemento"}),(0,a.jsx)("input",{type:"text",name:"complemento",value:e.complemento,onChange:M,placeholder:"Sala, Andar, etc.",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Bairro *"}),(0,a.jsx)("input",{type:"text",name:"bairro",value:e.bairro,onChange:M,placeholder:"Bairro",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Munic\xedpio *"}),(0,a.jsx)("input",{type:"text",name:"municipio",value:e.municipio,onChange:M,placeholder:"Cidade",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"C\xf3digo IBGE *"}),(0,a.jsx)("input",{type:"text",name:"codigo_municipio",value:e.codigo_municipio,onChange:M,placeholder:"0000000",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"UF *"}),(0,a.jsxs)("select",{name:"uf",value:e.uf,onChange:M,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Selecione"}),y.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Telefone"}),(0,a.jsx)("input",{type:"text",name:"telefone",value:(e=>{let t=e.replace(/\D/g,"");return t.length<=10?t.replace(/^(\d{2})(\d{4})(\d{4}).*/,"($1) $2-$3"):t.replace(/^(\d{2})(\d{5})(\d{4}).*/,"($1) $2-$3")})(e.telefone),onChange:e=>t(t=>({...t,telefone:e.target.value})),maxLength:15,placeholder:"(00) 00000-0000",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),"fiscal"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Configura\xe7\xf5es Fiscais"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Regime Tribut\xe1rio *"}),(0,a.jsxs)("select",{name:"regime_tributario",value:e.regime_tributario,onChange:M,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:1,children:"1 - Simples Nacional"}),(0,a.jsx)("option",{value:2,children:"2 - Simples Nacional (Excesso)"}),(0,a.jsx)("option",{value:3,children:"3 - Regime Normal"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Natureza da Opera\xe7\xe3o Padr\xe3o"}),(0,a.jsx)("input",{type:"text",name:"natureza_operacao_padrao",value:e.natureza_operacao_padrao,onChange:M,placeholder:"Venda",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"CFOP Padr\xe3o"}),(0,a.jsx)("input",{type:"text",name:"cfop_padrao",value:e.cfop_padrao,onChange:M,placeholder:"5102",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("hr",{className:"border-white/10"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-white",children:"S\xe9ries das Notas"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"S\xe9rie NFe"}),(0,a.jsx)("input",{type:"number",name:"serie_nfe",value:e.serie_nfe,onChange:M,min:1,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"S\xe9rie NFCe"}),(0,a.jsx)("input",{type:"number",name:"serie_nfce",value:e.serie_nfce,onChange:M,min:1,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"S\xe9rie NFSe"}),(0,a.jsx)("input",{type:"number",name:"serie_nfse",value:e.serie_nfse,onChange:M,min:1,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("hr",{className:"border-white/10"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-white",children:"NFCe (Nota ao Consumidor)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"CSC (C\xf3digo de Seguran\xe7a do Contribuinte)"}),(0,a.jsx)("input",{type:"text",name:"csc_nfce",value:e.csc_nfce,onChange:M,placeholder:"Obtido na SEFAZ do seu estado",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"ID Token NFCe"}),(0,a.jsx)("input",{type:"text",name:"id_token_nfce",value:e.id_token_nfce,onChange:M,placeholder:"ID do token",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("hr",{className:"border-white/10"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-white",children:"Informa\xe7\xf5es Complementares"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Informa\xe7\xf5es adicionais padr\xe3o nas notas"}),(0,a.jsx)("textarea",{name:"informacoes_complementares",value:e.informacoes_complementares,onChange:M,rows:3,placeholder:"Informa\xe7\xf5es que aparecer\xe3o em todas as notas emitidas...",className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]}),"api"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Integra\xe7\xe3o Focus NFe"}),(0,a.jsxs)("a",{href:"https://app.focusnfe.com.br/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-sm",children:["Painel Focus NFe ",(0,a.jsx)(f.Z,{className:"w-4 h-4"})]})]}),(0,a.jsx)("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,a.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,a.jsx)("strong",{children:"Importante:"})," Para emitir notas fiscais reais, voc\xea precisa cadastrar sua empresa no painel da Focus NFe e enviar o certificado digital A1. O token abaixo \xe9 usado para autentica\xe7\xe3o com a API."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Token de Autentica\xe7\xe3o *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:C?"text":"password",name:"focusnfe_token",value:e.focusnfe_token,onChange:M,placeholder:"Token obtido no painel Focus NFe",className:"w-full px-3 py-2 pr-10 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"button",onClick:()=>E(!C),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:C?(0,a.jsx)(g.Z,{className:"w-5 h-5"}):(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-1",children:"Ambiente *"}),(0,a.jsxs)("select",{name:"focusnfe_ambiente",value:e.focusnfe_ambiente,onChange:M,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"homologacao",children:"Homologa\xe7\xe3o (Testes)"}),(0,a.jsx)("option",{value:"producao",children:"Produ\xe7\xe3o (Notas Reais)"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{let t=b.token?{ok:!0,mensagem:"API configurada para ambiente de ".concat(b.ambiente)}:{ok:!1,mensagem:"Token n\xe3o configurado"};if(S(t),t.ok){var r;r=e.focusnfe_ambiente,b.ambiente=r}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"Testar Conex\xe3o"]}),Z&&(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(Z.ok?"text-green-400":"text-red-400"),children:[Z.ok?(0,a.jsx)(d.Z,{className:"w-5 h-5"}):(0,a.jsx)(u.Z,{className:"w-5 h-5"}),Z.mensagem]})]}),(0,a.jsx)("hr",{className:"border-white/10"}),(0,a.jsx)("h3",{className:"text-md font-semibold text-white",children:"Status da Configura\xe7\xe3o"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Ambiente Atual"}),(0,a.jsx)("div",{className:"font-semibold ".concat("producao"===e.focusnfe_ambiente?"text-green-400":"text-yellow-400"),children:"producao"===e.focusnfe_ambiente?"PRODU\xc7\xc3O":"HOMOLOGA\xc7\xc3O"})]}),(0,a.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Token Configurado"}),(0,a.jsx)("div",{className:"font-semibold ".concat(e.focusnfe_token?"text-green-400":"text-red-400"),children:e.focusnfe_token?"SIM":"N\xc3O"})]}),(0,a.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"URL da API"}),(0,a.jsx)("div",{className:"text-white text-sm truncate",children:"producao"===e.focusnfe_ambiente?"api.focusnfe.com.br":"homologacao.focusnfe.com.br"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-yellow-400 font-semibold mb-2",children:"⚠️ Aten\xe7\xe3o ao Ambiente de Produ\xe7\xe3o"}),(0,a.jsxs)("ul",{className:"text-yellow-300 text-sm space-y-1",children:[(0,a.jsx)("li",{children:"• Notas emitidas em produ\xe7\xe3o t\xeam validade fiscal"}),(0,a.jsx)("li",{children:"• Certifique-se de que sua empresa est\xe1 cadastrada no painel Focus NFe"}),(0,a.jsx)("li",{children:"• O certificado digital A1 deve estar v\xe1lido e enviado ao Focus NFe"}),(0,a.jsx)("li",{children:"• Teste primeiro em homologa\xe7\xe3o antes de ir para produ\xe7\xe3o"})]})]})]})]})]})}},14958:function(e,t,r){"use strict";r.d(t,{AE:function(){return h},AT:function(){return N},FZ:function(){return y},GL:function(){return i},Gx:function(){return u},JA:function(){return n},Kx:function(){return w},OQ:function(){return a},Qf:function(){return p},S3:function(){return v},SE:function(){return l},SL:function(){return s},VR:function(){return d},gQ:function(){return g},hM:function(){return c},mU:function(){return j},nx:function(){return o},r0:function(){return m},uY:function(){return x},y5:function(){return f},zM:function(){return b}});let a=(0,r(69073).eI)("https://yhiiupamxdjmnrktkjku.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloaWl1cGFteGRqbW5ya3Rramt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0ODg2NzUsImV4cCI6MjA4NDA2NDY3NX0._QjYtYAlypJdursHe0-rPz14QOT4NNP2EklqcJ6TpkI");async function s(){let{data:e,error:t}=await a.from("orcamentos").select("*").order("data",{ascending:!1});if(t)throw console.error("Erro ao buscar or\xe7amentos:",t),t;return e||[]}async function o(e){let{data:t,error:r}=await a.from("orcamentos").insert([e]).select().single();if(r)throw console.error("Erro ao criar or\xe7amento:",r),Error(r.message);return t}async function n(e,t){let{data:r,error:s}=await a.from("orcamentos").update(t).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar or\xe7amento:",s),Error(s.message);return r}async function i(e){let{error:t}=await a.from("orcamentos").delete().eq("id",e);if(t)throw console.error("Erro ao excluir or\xe7amento:",t),Error(t.message)}async function l(){let{data:e,error:t}=await a.from("materiais").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar materiais:",t),t;return e||[]}async function c(e){let{data:t,error:r}=await a.from("materiais").insert([e]).select().single();if(r)throw console.error("Erro ao criar material:",r),Error(r.message);return t}async function d(e,t){let{data:r,error:s}=await a.from("materiais").update(t).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar material:",s),Error(s.message);return r}async function u(e){let{error:t}=await a.from("materiais").delete().eq("id",e);if(t)throw console.error("Erro ao excluir material:",t),Error(t.message)}async function m(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente, status)\n    ").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras:",t),t;return e||[]}async function x(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente)\n    ").eq("status","em_andamento").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras em andamento:",t),t;return e||[]}async function h(e){let{data:t,error:r}=await a.from("obras").insert([e]).select().single();if(r)throw console.error("Erro ao criar obra:",r),Error(r.message);return t}async function f(e,t){let{data:r,error:s}=await a.from("obras").update(t).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar obra:",s),Error(s.message);return r}async function g(e){let{error:t}=await a.from("obras").delete().eq("id",e);if(t)throw console.error("Erro ao excluir obra:",t),Error(t.message)}async function p(e){let{data:t,error:r}=await a.from("obra_materiais").select("\n      *,\n      material:materiais(id, nome)\n    ").eq("obra_id",e);if(r)throw console.error("Erro ao buscar materiais da obra:",r),r;return t||[]}async function b(e){let{data:t}=await a.from("obra_materiais").select("id").eq("obra_id",e.obra_id).eq("material_id",e.material_id).single();if(t){let{data:r,error:s}=await a.from("obra_materiais").update({quantidade:e.quantidade}).eq("id",t.id).select().single();if(s)throw Error(s.message);return r}{let{data:t,error:r}=await a.from("obra_materiais").insert([e]).select().single();if(r)throw Error(r.message);return t}}async function w(e,t){let{data:r,error:s}=await a.from("usuarios").select("*").ilike("email",e.trim()).eq("senha",t).single();return s?(console.error("Erro no login:",s),null):r}async function y(){let{data:e,error:t}=await a.from("usuarios").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar usu\xe1rios:",t),t;return e||[]}async function j(e){let{data:t,error:r}=await a.from("usuarios").insert([e]).select().single();if(r)throw console.error("Erro ao criar usu\xe1rio:",r),Error(r.message);return t}async function N(e,t){let{data:r,error:s}=await a.from("usuarios").update(t).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar usu\xe1rio:",s),Error(s.message);return r}async function v(e){let{error:t}=await a.from("usuarios").delete().eq("id",e);if(t)throw console.error("Erro ao excluir usu\xe1rio:",t),Error(t.message)}},24033:function(e,t,r){e.exports=r(15313)}},function(e){e.O(0,[149,971,938,744],function(){return e(e.s=43474)}),_N_E=e.O()}]);