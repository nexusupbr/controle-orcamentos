(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{92457:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},28203:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},41298:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},98501:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},92851:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},66654:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},74522:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},85790:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},57213:function(e,t,r){Promise.resolve().then(r.bind(r,42011))},42011:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(57437),n=r(2265),s=r(92457),o=r(85790),i=r(74522),l=r(41298),c=r(66654),d=r(28203),m=r(98501),u=r(548),x=r(14958),h=r(22169);function f(){let[e,t]=(0,n.useState)([]),[r,f]=(0,n.useState)([]),[p,g]=(0,n.useState)(!0),[b,v]=(0,n.useState)(null),[y,j]=(0,n.useState)(null);(0,n.useEffect)(()=>{N()},[]);let N=async()=>{try{g(!0);let e=await (0,x.SL)();f(e);let r=k(e);t(r),v(null)}catch(e){console.error("Erro ao carregar dados:",e),v("Erro ao carregar dados")}finally{g(!1)}},w=t=>{let a=r.filter(e=>e.mes===t),n=e.find(e=>e.mes===t),s=a.map(e=>{let t=new Date(e.data+"T00:00:00").toLocaleDateString("pt-BR"),r="Fechado"===e.status?"status-fechado":"An\xe1lise"===e.status?"status-analise":"status-perdido",a=e.parcelado?e.parcelas+"x":"\xc0 vista",n=e.nota_fiscal?"✓ Sim":"✗ N\xe3o";return"\n        <tr>\n          <td>".concat(t,"</td>\n          <td>").concat(e.cliente,"</td>\n          <td>").concat((0,h.xG)(e.valor_proposto),"</td>\n          <td>").concat((0,h.xG)(e.valor_fechado),"</td>\n          <td>").concat((0,h.xG)(e.entrada||0),'</td>\n          <td class="').concat(r,'">').concat(e.status,"</td>\n          <td>").concat(a,"</td>\n          <td>").concat(n,"</td>\n        </tr>\n      ")}).join(""),o=a.reduce((e,t)=>e+(t.entrada||0),0),i=a.filter(e=>e.nota_fiscal).length,l=a.filter(e=>!e.nota_fiscal).length,c=a.filter(e=>"An\xe1lise"===e.status).length,d="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Relat\xf3rio - ".concat(t,"</title>\n        <style>\n          * { margin: 0; padding: 0; box-sizing: border-box; }\n          body { font-family: Arial, sans-serif; padding: 20px; color: #333; }\n          h1 { text-align: center; margin-bottom: 5px; color: #059669; }\n          h2 { text-align: center; margin-bottom: 20px; color: #666; font-size: 18px; }\n          .info { text-align: center; margin-bottom: 20px; color: #888; font-size: 11px; }\n          .summary-cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }\n          .card { padding: 15px; border: 1px solid #ddd; border-radius: 8px; text-align: center; }\n          .card-value { font-size: 24px; font-weight: bold; color: #059669; }\n          .card-label { font-size: 12px; color: #666; margin-top: 5px; }\n          .card.success .card-value { color: #059669; }\n          .card.danger .card-value { color: #dc2626; }\n          .card.primary .card-value { color: #3b82f6; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n          th, td { border: 1px solid #ddd; padding: 10px; text-align: left; font-size: 12px; }\n          th { background: #059669; color: white; }\n          tr:nth-child(even) { background: #f9f9f9; }\n          .status-fechado { color: #059669; font-weight: bold; }\n          .status-perdido { color: #dc2626; font-weight: bold; }\n          .status-analise { color: #f59e0b; font-weight: bold; }\n          @media print {\n            body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }\n          }\n        </style>\n      </head>\n      <body>\n        <h1>\uD83D\uDCCA Relat\xf3rio Mensal</h1>\n        <h2>").concat(t,'</h2>\n        <p class="info">Gerado em ').concat(new Date().toLocaleDateString("pt-BR")," \xe0s ").concat(new Date().toLocaleTimeString("pt-BR"),'</p>\n        \n        <div class="summary-cards">\n          <div class="card">\n            <div class="card-value">').concat((null==n?void 0:n.totalOrcamentos)||0,'</div>\n            <div class="card-label">Total de Or\xe7amentos</div>\n          </div>\n          <div class="card success">\n            <div class="card-value">').concat((null==n?void 0:n.totalFechados)||0,'</div>\n            <div class="card-label">Fechados</div>\n          </div>\n          <div class="card danger">\n            <div class="card-value">').concat((null==n?void 0:n.totalPerdidos)||0,'</div>\n            <div class="card-label">Perdidos</div>\n          </div>\n          <div class="card primary">\n            <div class="card-value">').concat((0,h.T3)((null==n?void 0:n.taxaConversao)||0),'</div>\n            <div class="card-label">Taxa de Convers\xe3o</div>\n          </div>\n        </div>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>Data</th>\n              <th>Cliente</th>\n              <th>Valor Proposto</th>\n              <th>Valor Fechado</th>\n              <th>Entrada</th>\n              <th>Status</th>\n              <th>Pagamento</th>\n              <th>NF</th>\n            </tr>\n          </thead>\n          <tbody>\n            ').concat(s,'\n          </tbody>\n        </table>\n        \n        <div style="margin-top: 25px; padding: 15px; background: #f0fdf4; border-radius: 8px;">\n          <h3 style="color: #059669; margin-bottom: 10px;">Totais do M\xeas</h3>\n          <p style="margin: 5px 0;"><strong>Valor total proposto:</strong> ').concat((0,h.xG)((null==n?void 0:n.valorProposto)||0),'</p>\n          <p style="margin: 5px 0;"><strong>Valor total fechado:</strong> ').concat((0,h.xG)((null==n?void 0:n.valorFechado)||0),'</p>\n          <p style="margin: 5px 0;"><strong>Valor total em entradas:</strong> ').concat((0,h.xG)(o),'</p>\n          <hr style="margin: 10px 0; border: none; border-top: 1px solid #ddd;" />\n          <p style="margin: 5px 0;"><strong>Em An\xe1lise:</strong> ').concat(c,'</p>\n          <p style="margin: 5px 0;"><strong>Com Nota Fiscal:</strong> ').concat(i,'</p>\n          <p style="margin: 5px 0;"><strong>Sem Nota Fiscal:</strong> ').concat(l,"</p>\n        </div>\n      </body>\n      </html>\n    "),m=window.open("","_blank","width=800,height=600");m&&(m.document.write(d),m.document.close(),m.focus(),m.print())},k=e=>{let t=new Map;return e.forEach(e=>{let r=t.get(e.mes)||{mes:e.mes,totalOrcamentos:0,totalFechados:0,totalPerdidos:0,valorProposto:0,valorFechado:0,taxaConversao:0};r.totalOrcamentos++,r.valorProposto+=e.valor_proposto,"Fechado"===e.status?(r.totalFechados++,r.valorFechado+=e.valor_fechado):r.totalPerdidos++,r.taxaConversao=(0,h.d5)(r.totalFechados,r.totalOrcamentos),t.set(e.mes,r)}),Array.from(t.values()).sort((e,t)=>{let[r,a]=e.mes.split("/"),[n,s]=t.mes.split("/"),o=new Date(parseInt(a),parseInt(r)-1);return new Date(parseInt(s),parseInt(n)-1).getTime()-o.getTime()})},C=e.reduce((e,t)=>({totalOrcamentos:e.totalOrcamentos+t.totalOrcamentos,totalFechados:e.totalFechados+t.totalFechados,totalPerdidos:e.totalPerdidos+t.totalPerdidos,valorProposto:e.valorProposto+t.valorProposto,valorFechado:e.valorFechado+t.valorFechado}),{totalOrcamentos:0,totalFechados:0,totalPerdidos:0,valorProposto:0,valorFechado:0}),E=(0,h.d5)(C.totalFechados,C.totalOrcamentos);return p?(0,a.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsx)(u.TK,{size:"lg"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold font-heading text-white",children:"Resumo Mensal"}),(0,a.jsx)("p",{className:"text-dark-400 mt-1",children:"Vis\xe3o consolidada dos or\xe7amentos por m\xeas"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center",children:(0,a.jsx)(s.Z,{className:"w-5 h-5 text-primary-400"})})}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:C.totalOrcamentos}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:"Total Or\xe7amentos"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-5 h-5 text-emerald-400"})})}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-emerald-400",children:C.totalFechados}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:"Fechados"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-red-400"})})}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-red-400",children:C.totalPerdidos}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:"Perdidos"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-primary-400"})})}),(0,a.jsx)("p",{className:"text-xl lg:text-2xl font-bold text-white",children:(0,h.xG)(C.valorFechado)}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:"Valor Total Fechado"})]}),(0,a.jsxs)("div",{className:"glass-card p-4 lg:p-6 col-span-2 lg:col-span-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-5 h-5 text-amber-400"})})}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-amber-400",children:(0,h.T3)(E)}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:"Taxa de Convers\xe3o"})]})]}),(0,a.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 lg:p-6 border-b border-dark-700",children:(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-primary-400"}),"Resumo por M\xeas"]})}),e.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"M\xeas"}),(0,a.jsx)("th",{className:"text-center",children:"Or\xe7amentos"}),(0,a.jsx)("th",{className:"text-center",children:"Fechados"}),(0,a.jsx)("th",{className:"text-center",children:"Perdidos"}),(0,a.jsx)("th",{className:"text-right",children:"Valor Proposto"}),(0,a.jsx)("th",{className:"text-right",children:"Valor Fechado"}),(0,a.jsx)("th",{className:"text-center",children:"Taxa Convers\xe3o"}),(0,a.jsx)("th",{className:"text-center",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"cursor-pointer transition-colors ".concat(y===e.mes?"bg-primary-500/10":""),onClick:()=>j(y===e.mes?null:e.mes),children:[(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/20 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-4 h-4 text-primary-400"})}),(0,a.jsx)("span",{className:"font-semibold text-white",children:e.mes})]})}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-lg bg-dark-800 text-dark-300 font-medium",children:e.totalOrcamentos})}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsx)(u.Ct,{variant:"success",children:e.totalFechados})}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsx)(u.Ct,{variant:"danger",children:e.totalPerdidos})}),(0,a.jsx)("td",{className:"text-right text-dark-300",children:(0,h.xG)(e.valorProposto)}),(0,a.jsx)("td",{className:"text-right font-semibold text-primary-400",children:(0,h.xG)(e.valorFechado)}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-20 h-2 bg-dark-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-primary-500 to-emerald-500 rounded-full transition-all duration-500",style:{width:"".concat(e.taxaConversao,"%")}})}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.taxaConversao>=70?"text-emerald-400":e.taxaConversao>=50?"text-amber-400":"text-red-400"),children:(0,h.T3)(e.taxaConversao)})]})}),(0,a.jsx)("td",{className:"text-center",children:(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),w(e.mes)},className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors text-sm font-medium",title:"Imprimir ".concat(e.mes),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Imprimir"]})})]},e.mes))}),(0,a.jsx)("tfoot",{className:"border-t-2 border-dark-600",children:(0,a.jsxs)("tr",{className:"bg-dark-800/50",children:[(0,a.jsx)("td",{className:"font-bold text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500/30 to-emerald-500/30 flex items-center justify-center",children:(0,a.jsx)(s.Z,{className:"w-4 h-4 text-white"})}),"TOTAL GERAL"]})}),(0,a.jsx)("td",{className:"text-center font-bold text-white",children:C.totalOrcamentos}),(0,a.jsx)("td",{className:"text-center font-bold text-emerald-400",children:C.totalFechados}),(0,a.jsx)("td",{className:"text-center font-bold text-red-400",children:C.totalPerdidos}),(0,a.jsx)("td",{className:"text-right font-bold text-dark-300",children:(0,h.xG)(C.valorProposto)}),(0,a.jsx)("td",{className:"text-right font-bold text-primary-400",children:(0,h.xG)(C.valorFechado)}),(0,a.jsx)("td",{className:"text-center font-bold text-amber-400",children:(0,h.T3)(E)}),(0,a.jsx)("td",{})]})})]})}):(0,a.jsx)(u.ub,{title:"Nenhum dado dispon\xedvel",description:"Adicione or\xe7amentos para ver o resumo mensal"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDCCA Performance Geral"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-dark-400",children:"Ticket M\xe9dio (Fechado)"}),(0,a.jsx)("span",{className:"text-white font-semibold",children:C.totalFechados>0?(0,h.xG)(C.valorFechado/C.totalFechados):(0,h.xG)(0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-dark-400",children:"Ticket M\xe9dio (Proposto)"}),(0,a.jsx)("span",{className:"text-white font-semibold",children:C.totalOrcamentos>0?(0,h.xG)(C.valorProposto/C.totalOrcamentos):(0,h.xG)(0)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-dark-400",children:"Convers\xe3o de Valor"}),(0,a.jsx)("span",{className:"font-semibold ".concat(C.valorProposto>0?C.valorFechado/C.valorProposto>=.5?"text-emerald-400":"text-amber-400":"text-dark-400"),children:C.valorProposto>0?(0,h.T3)(C.valorFechado/C.valorProposto*100):"0%"})]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83C\uDFAF Metas e Objetivos"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-dark-400",children:"Taxa de Convers\xe3o"}),(0,a.jsxs)("span",{className:"text-white",children:[(0,h.T3)(E)," / 70%"]})]}),(0,a.jsx)("div",{className:"w-full h-3 bg-dark-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-primary-500 to-emerald-500 rounded-full transition-all duration-700",style:{width:"".concat(Math.min(E/70*100,100),"%")}})})]}),(0,a.jsx)("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700",children:(0,a.jsx)("p",{className:"text-sm text-dark-400",children:E>=70?"\uD83C\uDF89 Excelente! Voc\xea est\xe1 acima da meta de convers\xe3o!":E>=50?"\uD83D\uDC4D Bom trabalho! Continue assim para atingir a meta.":"\uD83D\uDCAA H\xe1 espa\xe7o para melhorias. Foque na qualifica\xe7\xe3o dos leads."})})]})]})]})]})}},548:function(e,t,r){"use strict";r.d(t,{Ct:function(){return l},TK:function(){return i},ub:function(){return o}});var a=r(57437),n=r(22169),s=r(92851);function o(e){let{icon:t,title:r,description:n,action:o}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-dark-800 flex items-center justify-center mb-6",children:t||(0,a.jsx)(s.Z,{className:"w-10 h-10 text-dark-500"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:r}),n&&(0,a.jsx)("p",{className:"text-dark-400 max-w-sm mb-6",children:n}),o]})}function i(e){let{size:t="md"}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:(0,n.cn)("rounded-full border-dark-700 border-t-primary-500 animate-spin",{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4"}[t])})})}function l(e){let{children:t,variant:r="success",size:s="md",className:o}=e;return(0,a.jsx)("span",{className:(0,n.cn)("badge",{success:"badge-success",danger:"badge-danger",warning:"badge-warning",info:"badge-info",primary:"badge-info",secondary:"bg-dark-600 text-dark-300"}[r],{sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"}[s],o),children:t})}},14958:function(e,t,r){"use strict";r.d(t,{AE:function(){return h},AT:function(){return N},FZ:function(){return y},GL:function(){return i},Gx:function(){return m},JA:function(){return o},Kx:function(){return v},OQ:function(){return a},Qf:function(){return g},S3:function(){return w},SE:function(){return l},SL:function(){return n},VR:function(){return d},gQ:function(){return p},hM:function(){return c},mU:function(){return j},nx:function(){return s},r0:function(){return u},uY:function(){return x},y5:function(){return f},zM:function(){return b}});let a=(0,r(69073).eI)("https://yhiiupamxdjmnrktkjku.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloaWl1cGFteGRqbW5ya3Rramt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0ODg2NzUsImV4cCI6MjA4NDA2NDY3NX0._QjYtYAlypJdursHe0-rPz14QOT4NNP2EklqcJ6TpkI");async function n(){let{data:e,error:t}=await a.from("orcamentos").select("*").order("data",{ascending:!1});if(t)throw console.error("Erro ao buscar or\xe7amentos:",t),t;return e||[]}async function s(e){let{data:t,error:r}=await a.from("orcamentos").insert([e]).select().single();if(r)throw console.error("Erro ao criar or\xe7amento:",r),Error(r.message);return t}async function o(e,t){let{data:r,error:n}=await a.from("orcamentos").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar or\xe7amento:",n),Error(n.message);return r}async function i(e){let{error:t}=await a.from("orcamentos").delete().eq("id",e);if(t)throw console.error("Erro ao excluir or\xe7amento:",t),Error(t.message)}async function l(){let{data:e,error:t}=await a.from("materiais").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar materiais:",t),t;return e||[]}async function c(e){let{data:t,error:r}=await a.from("materiais").insert([e]).select().single();if(r)throw console.error("Erro ao criar material:",r),Error(r.message);return t}async function d(e,t){let{data:r,error:n}=await a.from("materiais").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar material:",n),Error(n.message);return r}async function m(e){let{error:t}=await a.from("materiais").delete().eq("id",e);if(t)throw console.error("Erro ao excluir material:",t),Error(t.message)}async function u(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente, status)\n    ").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras:",t),t;return e||[]}async function x(){let{data:e,error:t}=await a.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente)\n    ").eq("status","em_andamento").order("created_at",{ascending:!1});if(t)throw console.error("Erro ao buscar obras em andamento:",t),t;return e||[]}async function h(e){let{data:t,error:r}=await a.from("obras").insert([e]).select().single();if(r)throw console.error("Erro ao criar obra:",r),Error(r.message);return t}async function f(e,t){let{data:r,error:n}=await a.from("obras").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar obra:",n),Error(n.message);return r}async function p(e){let{error:t}=await a.from("obras").delete().eq("id",e);if(t)throw console.error("Erro ao excluir obra:",t),Error(t.message)}async function g(e){let{data:t,error:r}=await a.from("obra_materiais").select("\n      *,\n      material:materiais(id, nome)\n    ").eq("obra_id",e);if(r)throw console.error("Erro ao buscar materiais da obra:",r),r;return t||[]}async function b(e){let{data:t}=await a.from("obra_materiais").select("id").eq("obra_id",e.obra_id).eq("material_id",e.material_id).single();if(t){let{data:r,error:n}=await a.from("obra_materiais").update({quantidade:e.quantidade}).eq("id",t.id).select().single();if(n)throw Error(n.message);return r}{let{data:t,error:r}=await a.from("obra_materiais").insert([e]).select().single();if(r)throw Error(r.message);return t}}async function v(e,t){let{data:r,error:n}=await a.from("usuarios").select("*").ilike("email",e.trim()).eq("senha",t).single();return n?(console.error("Erro no login:",n),null):r}async function y(){let{data:e,error:t}=await a.from("usuarios").select("*").order("nome",{ascending:!0});if(t)throw console.error("Erro ao buscar usu\xe1rios:",t),t;return e||[]}async function j(e){let{data:t,error:r}=await a.from("usuarios").insert([e]).select().single();if(r)throw console.error("Erro ao criar usu\xe1rio:",r),Error(r.message);return t}async function N(e,t){let{data:r,error:n}=await a.from("usuarios").update(t).eq("id",e).select().single();if(n)throw console.error("Erro ao atualizar usu\xe1rio:",n),Error(n.message);return r}async function w(e){let{error:t}=await a.from("usuarios").delete().eq("id",e);if(t)throw console.error("Erro ao excluir usu\xe1rio:",t),Error(t.message)}},22169:function(e,t,r){"use strict";r.d(t,{K3:function(){return x},T3:function(){return l},Wi:function(){return d},Wt:function(){return m},cn:function(){return s},d5:function(){return c},fj:function(){return u},p6:function(){return i},xG:function(){return o},zm:function(){return p}});var a=r(57042),n=r(74769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function o(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function i(e){if(!e)return"-";let t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("pt-BR")}function l(e){return"".concat(e.toFixed(1),"%")}function c(e,t){return t&&0!==t?e/t*100:0}function d(e){return("string"==typeof e?parseFloat(e)||0:e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function m(e){return e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0}function u(e){let t=e.replace(/\D/g,"");return t?(parseInt(t)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function x(e){return"".concat("/controle-orcamentos").concat(e)}let h=["UN","PC","KG","G","L","ML","M","CM","M2","M3","CX","PAR","SC","FD","PCT","RL","TON","DZ","CT","BD","JG","KIT","AMPOLA","UNID","PECA","METRO","LITRO","QUILO","CAIXA","SACO","FARDO","PACOTE","ROLO","DUZIA","CARTELA","BALDE","JOGO"],f={UNID:"UN",UNIDADE:"UN",UNIDADES:"UN",PECA:"PC",PEÇA:"PC",PECAS:"PC",PEÇAS:"PC",METRO:"M",METROS:"M",LITRO:"L",LITROS:"L",QUILO:"KG",QUILOS:"KG",QUILOGRAMA:"KG",QUILOGRAMAS:"KG",GRAMA:"G",GRAMAS:"G",MILILITRO:"ML",MILILITROS:"ML",CENTIMETRO:"CM",CENTIMETROS:"CM",CENTÍMETRO:"CM",CENTÍMETROS:"CM",CAIXA:"CX",CAIXAS:"CX",SACO:"SC",SACOS:"SC",FARDO:"FD",FARDOS:"FD",PACOTE:"PCT",PACOTES:"PCT",ROLO:"RL",ROLOS:"RL",TONELADA:"TON",TONELADAS:"TON",DUZIA:"DZ",DÚZIA:"DZ",DUZIAS:"DZ",CARTELA:"CT",CARTELAS:"CT",BALDE:"BD",BALDES:"BD",JOGO:"JG",JOGOS:"JG"};function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UN";if(null==e)return t;if("number"==typeof e)return console.warn("[normalizeUnidade] Valor num\xe9rico recebido: ".concat(e,". Usando default: ").concat(t)),t;let r=String(e).trim().toUpperCase();if(!r)return t;if(/^\d+$/.test(r))return console.warn('[normalizeUnidade] String num\xe9rica recebida: "'.concat(e,'". Usando default: ').concat(t)),t;if(f[r])return f[r];if(h.includes(r))return r;let a=r.split(/\s+/)[0];return h.includes(a)?a:f[a]?f[a]:(console.warn('[normalizeUnidade] Unidade desconhecida: "'.concat(e,'". Usando default: ').concat(t)),t)}}},function(e){e.O(0,[149,985,971,938,744],function(){return e(e.s=57213)}),_N_E=e.O()}]);