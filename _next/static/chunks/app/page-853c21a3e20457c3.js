(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{83523:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9224:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},78083:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]])},64891:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},4322:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},33101:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},94900:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},9883:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98501:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},92295:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},41827:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},92851:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},82549:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},67343:function(e,a,t){Promise.resolve().then(t.bind(t,48836))},48836:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return E}});var n=t(57437),s=t(2265),i=t(94900),r=t(33101),l=t(11981),d=t(67972),o=t(5589),c=t(81097),m=t(41827),u=t(78083),x=t(9224),h=t(83523),p=t(4322),f=t(98501),v=t(64891),g=t(9883),b=t(92295),y=t(66651),j=t(70492),w=t(548),N=t(14958),k=t(83779),Z=t(16691),C=t.n(Z),M=t(22169);let z=[{value:"em_andamento",label:"Em Andamento"},{value:"pausada",label:"Pausada"}],S={em_andamento:{variant:"success",icon:(0,n.jsx)(i.Z,{className:"w-3 h-3"})},pausada:{variant:"warning",icon:(0,n.jsx)(r.Z,{className:"w-3 h-3"})}};function E(){let{usuario:e,loading:a,login:t,authEnabled:i}=(0,k.a)(),[r,Z]=(0,s.useState)(""),[E,q]=(0,s.useState)(""),[L,_]=(0,s.useState)(""),[P,D]=(0,s.useState)(!1),[T,O]=(0,s.useState)([]),[I,R]=(0,s.useState)([]),[K,Q]=(0,s.useState)(!0),[F,H]=(0,s.useState)(""),[U,V]=(0,s.useState)(""),[A,B]=(0,s.useState)(null),[G,X]=(0,s.useState)(!1),[Y,J]=(0,s.useState)(null),[W,$]=(0,s.useState)(!1),[ee,ea]=(0,s.useState)(!1),[et,en]=(0,s.useState)({}),[es,ei]=(0,s.useState)(""),er=i&&null!==e;(0,s.useEffect)(()=>{er?ed():a||i||Q(!1)},[er,a]);let el=async e=>{e.preventDefault(),_(""),D(!0);try{await t(r,E)||_("Email ou senha inv\xe1lidos")}catch(e){_("Erro ao fazer login. Tente novamente.")}finally{D(!1)}},ed=async()=>{try{Q(!0);let[e,a]=await Promise.all([(0,N.r0)(),(0,N.SE)()]);O(e),R(a)}catch(e){console.error("Erro ao carregar dados:",e)}finally{Q(!1)}},eo=T.filter(e=>{var a;if("concluida"===e.status)return!1;let t=e.nome.toLowerCase().includes(F.toLowerCase())||(null===(a=e.descricao)||void 0===a?void 0:a.toLowerCase().includes(F.toLowerCase())),n=!U||e.status===U;return t&&n}),ec=async e=>{if(A===e){B(null);return}B(e);let a=T.find(a=>a.id===e);if(null==a||!a.materiaisCarregados){O(a=>a.map(a=>a.id===e?{...a,loadingMateriais:!0}:a));try{let a=await (0,N.Qf)(e);O(t=>t.map(t=>t.id===e?{...t,materiaisCarregados:a,loadingMateriais:!1}:t))}catch(a){console.error("Erro ao carregar materiais:",a),O(a=>a.map(a=>a.id===e?{...a,loadingMateriais:!1}:a))}}},em=async e=>{J(e),X(!0),$(!0);try{let a=await (0,N.Qf)(e.id),t={};a.forEach(e=>{t[e.material_id]=e.quantidade}),I.forEach(e=>{e.id in t||(t[e.id]=0)}),en(t)}catch(e){console.error("Erro ao carregar materiais da obra:",e)}finally{$(!1)}},eu=()=>{X(!1),J(null),en({}),ei("")},ex=(e,a)=>{en(t=>({...t,[e]:Math.max(0,(t[e]||0)+a)}))},eh=(e,a)=>{let t=parseInt(a)||0;en(a=>({...a,[e]:Math.max(0,t)}))},ep=async()=>{if(Y){ea(!0);try{let e=Object.entries(et).map(e=>{let[a,t]=e;return(0,N.zM)({obra_id:Y.id,material_id:Number(a),quantidade:t})});await Promise.all(e);let a=await (0,N.Qf)(Y.id);O(e=>e.map(e=>e.id===Y.id?{...e,materiaisCarregados:a}:e)),eu()}catch(e){console.error("Erro ao salvar:",e),alert("Erro ao salvar quantidades")}finally{ea(!1)}}},ef=async e=>{var a;let t=e.materiaisCarregados;if(!t)try{t=await (0,N.Qf)(e.id),O(a=>a.map(a=>a.id===e.id?{...a,materiaisCarregados:t,loadingMateriais:!1}:a))}catch(e){console.error("Erro ao carregar materiais para impress\xe3o:",e),alert("Erro ao carregar materiais para impress\xe3o");return}let n=(null==t?void 0:t.filter(e=>e.quantidade>0))||[],s=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),i=(null===(a=[...z,{value:"concluida",label:"Conclu\xedda"}].find(a=>a.value===e.status))||void 0===a?void 0:a.label)||e.status,r=window.open("","_blank");if(!r){alert("Popup bloqueado. Permita popups para imprimir.");return}r.document.write('\n      <!DOCTYPE html>\n      <html lang="pt-BR">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Relat\xf3rio de Materiais - '.concat(e.nome,'</title>\n        <style>\n          * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }\n          body {\n            font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n            padding: 20px;\n            color: #333;\n            line-height: 1.5;\n          }\n          .header {\n            text-align: center;\n            border-bottom: 2px solid #333;\n            padding-bottom: 15px;\n            margin-bottom: 20px;\n          }\n          .header h1 {\n            font-size: 24px;\n            margin-bottom: 5px;\n            color: #1a1a1a;\n          }\n          .header p {\n            color: #666;\n            font-size: 12px;\n          }\n          .info-section {\n            background: #f5f5f5;\n            padding: 15px;\n            border-radius: 8px;\n            margin-bottom: 20px;\n          }\n          .info-grid {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 10px;\n          }\n          .info-item {\n            margin-bottom: 8px;\n          }\n          .info-label {\n            font-weight: 600;\n            color: #555;\n            font-size: 12px;\n            text-transform: uppercase;\n          }\n          .info-value {\n            color: #1a1a1a;\n            font-size: 14px;\n          }\n          .status-badge {\n            display: inline-block;\n            padding: 4px 12px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: 600;\n          }\n          .status-em_andamento { background: #dcfce7; color: #166534; }\n          .status-pausada { background: #fef3c7; color: #92400e; }\n          .status-concluida { background: #dbeafe; color: #1e40af; }\n          \n          .materials-title {\n            font-size: 16px;\n            font-weight: 600;\n            margin-bottom: 15px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid #ddd;\n          }\n          .materials-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n          }\n          .materials-table th,\n          .materials-table td {\n            padding: 10px 12px;\n            text-align: left;\n            border-bottom: 1px solid #ddd;\n          }\n          .materials-table th {\n            background: #f0f0f0;\n            font-weight: 600;\n            font-size: 12px;\n            text-transform: uppercase;\n            color: #555;\n          }\n          .materials-table tr:hover {\n            background: #f9f9f9;\n          }\n          .materials-table .qty {\n            text-align: center;\n            font-weight: 600;\n            color: #1a1a1a;\n          }\n          .materials-table .idx {\n            text-align: center;\n            color: #888;\n            width: 40px;\n          }\n          .empty-message {\n            text-align: center;\n            padding: 30px;\n            color: #888;\n            font-style: italic;\n          }\n          .footer {\n            margin-top: 30px;\n            padding-top: 15px;\n            border-top: 1px solid #ddd;\n            display: flex;\n            justify-content: space-between;\n            font-size: 11px;\n            color: #888;\n          }\n          .signature-area {\n            margin-top: 50px;\n            display: flex;\n            justify-content: space-between;\n          }\n          .signature-box {\n            text-align: center;\n            width: 200px;\n          }\n          .signature-line {\n            border-top: 1px solid #333;\n            margin-top: 50px;\n            padding-top: 5px;\n            font-size: 12px;\n          }\n          .total-items {\n            text-align: right;\n            font-size: 14px;\n            margin-top: 10px;\n            font-weight: 600;\n          }\n          @media print {\n            body { padding: 10px; }\n            .no-print { display: none; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>\uD83D\uDCCB Relat\xf3rio de Materiais</h1>\n          <p>Checklist de materiais utilizados na obra</p>\n        </div>\n        \n        <div class="info-section">\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">Nome da Obra</div>\n              <div class="info-value">').concat(e.nome,'</div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">Status</div>\n              <div class="info-value">\n                <span class="status-badge status-').concat(e.status,'">').concat(i,'</span>\n              </div>\n            </div>\n            <div class="info-item">\n              <div class="info-label">Data do Relat\xf3rio</div>\n              <div class="info-value">').concat(s,"</div>\n            </div>\n            ").concat(e.descricao?'\n            <div class="info-item">\n              <div class="info-label">Descri\xe7\xe3o</div>\n              <div class="info-value">'.concat(e.descricao,"</div>\n            </div>\n            "):"",'\n          </div>\n        </div>\n        \n        <div class="materials-title">\uD83D\uDCE6 Materiais Utilizados</div>\n        \n        ').concat(n.length>0?'\n          <table class="materials-table">\n            <thead>\n              <tr>\n                <th class="idx">#</th>\n                <th>Material</th>\n                <th class="qty">Quantidade</th>\n                <th>Conferido</th>\n              </tr>\n            </thead>\n            <tbody>\n              '.concat(n.map((e,a)=>{var t;return'\n                <tr>\n                  <td class="idx">'.concat(a+1,"</td>\n                  <td>").concat((null===(t=e.material)||void 0===t?void 0:t.nome)||"Material #".concat(e.material_id),'</td>\n                  <td class="qty">').concat(e.quantidade,' un</td>\n                  <td style="width: 80px;">‚òê</td>\n                </tr>\n              ')}).join(""),'\n            </tbody>\n          </table>\n          <div class="total-items">\n            Total: ').concat(n.length," ").concat(1===n.length?"item":"itens"," | \n            ").concat(n.reduce((e,a)=>e+a.quantidade,0)," unidades\n          </div>\n        "):'\n          <div class="empty-message">\n            Nenhum material registrado para esta obra\n          </div>\n        ','\n        \n        <div class="signature-area">\n          <div class="signature-box">\n            <div class="signature-line">Respons\xe1vel pela Obra</div>\n          </div>\n          <div class="signature-box">\n            <div class="signature-line">Conferente</div>\n          </div>\n        </div>\n        \n        <div class="footer">\n          <span>Obra #').concat(e.id,"</span>\n          <span>Gerado em: ").concat(s,"</span>\n        </div>\n        \n        <script>\n          window.onload = function() {\n            window.print();\n          }\n        </script>\n      </body>\n      </html>\n    ")),r.document.close()};return a?(0,n.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,n.jsx)(w.TK,{size:"lg"})}):er?K?(0,n.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,n.jsx)(w.TK,{size:"lg"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold font-heading text-white",children:"Obras"}),(0,n.jsx)("p",{className:"text-dark-400 mt-1",children:"Visualize as obras e os materiais utilizados"})]}),(0,n.jsx)("div",{className:"glass-card p-4",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(m.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Buscar obra...",value:F,onChange:e=>H(e.target.value),className:"input pl-12 w-full"})]}),(0,n.jsxs)("select",{value:U,onChange:e=>V(e.target.value),className:"input w-full md:w-48",children:[(0,n.jsx)("option",{value:"",children:"Todos os Status"}),z.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}),eo.length>0?(0,n.jsx)("div",{className:"space-y-4",children:eo.map(e=>{var a,t;let s=S[e.status]||S.em_andamento,i=A===e.id,r=(null===(a=e.materiaisCarregados)||void 0===a?void 0:a.filter(e=>e.quantidade>0))||[];return(0,n.jsxs)("div",{className:"glass-card overflow-hidden",children:[(0,n.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-dark-700/30 transition-colors",onClick:()=>ec(e.id),children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-xl bg-accent-500/10 flex items-center justify-center",children:(0,n.jsx)(u.Z,{className:"w-6 h-6 text-accent-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-white",children:e.nome}),e.descricao&&(0,n.jsx)("p",{className:"text-sm text-dark-400 mt-0.5",children:e.descricao})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(w.Ct,{variant:s.variant,children:(0,n.jsxs)("span",{className:"flex items-center gap-1.5",children:[s.icon,(null===(t=z.find(a=>a.value===e.status))||void 0===t?void 0:t.label)||e.status]})}),i?(0,n.jsx)(x.Z,{className:"w-5 h-5 text-dark-400"}):(0,n.jsx)(h.Z,{className:"w-5 h-5 text-dark-400"})]})]}),i&&(0,n.jsxs)("div",{className:"px-4 pb-4 pt-2 border-t border-dark-700",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("h4",{className:"text-sm font-semibold text-dark-300 flex items-center gap-2",children:[(0,n.jsx)(p.Z,{className:"w-4 h-4 text-primary-400"}),"Materiais Utilizados"]}),(0,n.jsxs)("button",{onClick:a=>{a.stopPropagation(),ef(e)},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors",title:"Imprimir relat\xf3rio de materiais",children:[(0,n.jsx)(f.Z,{className:"w-4 h-4"}),"Imprimir"]})]}),e.loadingMateriais?(0,n.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,n.jsx)(w.TK,{size:"sm"})}):r.length>0?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:r.map(e=>{var a;return(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-dark-700/50 border border-dark-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary-500/10 flex items-center justify-center",children:(0,n.jsx)(p.Z,{className:"w-4 h-4 text-primary-400"})}),(0,n.jsx)("span",{className:"text-sm text-white",children:(null===(a=e.material)||void 0===a?void 0:a.nome)||"Material #".concat(e.material_id)})]}),(0,n.jsxs)("span",{className:"text-sm font-semibold text-primary-400 bg-primary-500/10 px-2 py-1 rounded",children:[e.quantidade,"x"]})]},e.id)})}):(0,n.jsx)("p",{className:"text-sm text-dark-500 py-4 text-center bg-dark-800/30 rounded-lg",children:"Nenhum material registrado nesta obra"})]}),(0,n.jsx)(y.z,{onClick:a=>{a.stopPropagation(),em(e)},leftIcon:(0,n.jsx)(p.Z,{className:"w-4 h-4"}),className:"w-full sm:w-auto",children:"Registrar Materiais"})]})]},e.id)})}):(0,n.jsx)("div",{className:"glass-card",children:(0,n.jsx)(w.ub,{icon:(0,n.jsx)(u.Z,{className:"w-10 h-10 text-dark-500"}),title:"Nenhuma obra encontrada",description:F||U?"Tente ajustar os filtros":"N\xe3o h\xe1 obras cadastradas"})}),(0,n.jsxs)("div",{className:"text-sm text-dark-400 text-center",children:["Total: ",eo.length," ",1===eo.length?"obra":"obras"]}),(0,n.jsx)(j.u,{isOpen:G,onClose:eu,title:"Materiais - ".concat((null==Y?void 0:Y.nome)||""),size:"lg",children:W?(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)(w.TK,{size:"lg"})}):(0,n.jsx)("div",{className:"space-y-4",children:I.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Pesquisar material...",value:es,onChange:e=>ei(e.target.value),className:"input pl-10 w-full",autoFocus:!0})]}),(0,n.jsxs)("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:[I.filter(e=>e.nome.toLowerCase().includes(es.toLowerCase())).map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-dark-700/50 border border-dark-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary-500/10 flex items-center justify-center",children:(0,n.jsx)(p.Z,{className:"w-5 h-5 text-primary-400"})}),(0,n.jsx)("span",{className:"font-medium text-white",children:e.nome})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>ex(e.id,-1),className:"w-8 h-8 rounded-lg bg-dark-600 hover:bg-dark-500 flex items-center justify-center text-white transition-colors",children:(0,n.jsx)(v.Z,{className:"w-4 h-4"})}),(0,n.jsx)("input",{type:"number",min:"0",value:et[e.id]||0,onChange:a=>eh(e.id,a.target.value),className:"w-16 h-8 text-center rounded-lg bg-dark-600 border border-dark-500 text-white text-sm focus:outline-none focus:border-primary-500"}),(0,n.jsx)("button",{type:"button",onClick:()=>ex(e.id,1),className:"w-8 h-8 rounded-lg bg-dark-600 hover:bg-dark-500 flex items-center justify-center text-white transition-colors",children:(0,n.jsx)(g.Z,{className:"w-4 h-4"})})]})]},e.id)),es&&0===I.filter(e=>e.nome.toLowerCase().includes(es.toLowerCase())).length&&(0,n.jsxs)("div",{className:"text-center py-8 text-dark-400",children:[(0,n.jsx)(m.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,n.jsxs)("p",{children:['Nenhum material encontrado para "',es,'"']})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-700",children:[(0,n.jsx)(y.z,{type:"button",variant:"secondary",onClick:eu,children:"Cancelar"}),(0,n.jsx)(y.z,{onClick:ep,isLoading:ee,leftIcon:(0,n.jsx)(b.Z,{className:"w-4 h-4"}),children:"Salvar Quantidades"})]})]}):(0,n.jsx)(w.ub,{icon:(0,n.jsx)(p.Z,{className:"w-10 h-10 text-dark-500"}),title:"Nenhum material cadastrado",description:"Acesse a \xe1rea administrativa para cadastrar materiais"})})})]}):(0,n.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl overflow-hidden shadow-glow mb-4",children:(0,n.jsx)(C(),{src:(0,M.K3)("/images/logo.jpeg"),alt:"Logo",width:80,height:80,className:"w-full h-full object-cover"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white font-heading",children:"\xc1rea do Funcion\xe1rio"}),(0,n.jsx)("p",{className:"text-dark-400 mt-1",children:"Fa\xe7a login para acessar as obras"})]}),(0,n.jsx)("div",{className:"glass-card p-8",children:(0,n.jsxs)("form",{onSubmit:el,className:"space-y-6",children:[L&&(0,n.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:[(0,n.jsx)(l.Z,{className:"w-4 h-4 flex-shrink-0"}),L]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,n.jsx)("input",{type:"email",placeholder:"Email",value:r,onChange:e=>Z(e.target.value),required:!0,className:"input pl-12 w-full"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,n.jsx)("input",{type:"password",placeholder:"Senha",value:E,onChange:e=>q(e.target.value),required:!0,className:"input pl-12 w-full"})]})]}),(0,n.jsx)(y.z,{type:"submit",className:"w-full",isLoading:P,leftIcon:(0,n.jsx)(c.Z,{className:"w-5 h-5"}),children:"Entrar"})]})})]})})}},548:function(e,a,t){"use strict";t.d(a,{Ct:function(){return d},TK:function(){return l},ub:function(){return r}});var n=t(57437),s=t(22169),i=t(92851);function r(e){let{icon:a,title:t,description:s,action:r}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-dark-800 flex items-center justify-center mb-6",children:a||(0,n.jsx)(i.Z,{className:"w-10 h-10 text-dark-500"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:t}),s&&(0,n.jsx)("p",{className:"text-dark-400 max-w-sm mb-6",children:s}),r]})}function l(e){let{size:a="md"}=e;return(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)("div",{className:(0,s.cn)("rounded-full border-dark-700 border-t-primary-500 animate-spin",{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4"}[a])})})}function d(e){let{children:a,variant:t="success",size:i="md",className:r}=e;return(0,n.jsx)("span",{className:(0,s.cn)("badge",{success:"badge-success",danger:"badge-danger",warning:"badge-warning",info:"badge-info",primary:"badge-info",secondary:"bg-dark-600 text-dark-300"}[t],{sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"}[i],r),children:a})}},70492:function(e,a,t){"use strict";t.d(a,{u:function(){return l}});var n=t(57437),s=t(82549),i=t(2265),r=t(22169);function l(e){let{isOpen:a,onClose:t,title:l,children:d,size:o="md"}=e;return((0,i.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),a)?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),(0,n.jsxs)("div",{className:(0,r.cn)("relative w-full bg-dark-900 border border-dark-700 rounded-2xl shadow-2xl animate-slide-up",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[o]),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-700",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white",children:l}),(0,n.jsx)("button",{onClick:t,className:"p-2 rounded-xl text-dark-400 hover:text-white hover:bg-dark-800 transition-colors",children:(0,n.jsx)(s.Z,{className:"w-5 h-5"})})]}),(0,n.jsx)("div",{className:"px-6 py-6 max-h-[70vh] overflow-y-auto scrollbar-thin",children:d})]})]}):null}}},function(e){e.O(0,[149,985,691,675,971,938,744],function(){return e(e.s=67343)}),_N_E=e.O()}]);