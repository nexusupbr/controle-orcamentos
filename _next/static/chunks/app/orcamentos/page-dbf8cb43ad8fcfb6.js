(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{28203:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},62442:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},41298:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},35817:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},86264:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},94136:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},9883:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98501:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},41827:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},92851:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},45367:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},82549:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},41803:function(e,a,t){Promise.resolve().then(t.bind(t,3302))},3302:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var r=t(57437),s=t(2265),n=t(98501),l=t(35817),o=t(9883),c=t(41827),i=t(62442),d=t(82549),u=t(94136),m=t(45367),x=t(41298),p=t(28203),h=t(66651),f=t(47049),b=t(70492),g=t(548),v=t(14958),j=t(22169);let y=[{value:"",label:"Selecione..."},{value:"Fechado",label:"Fechado"},{value:"Perdido",label:"Perdido"},{value:"An\xe1lise",label:"An\xe1lise"}],N=e=>{let a=new Date(e+"T00:00:00"),t=String(a.getMonth()+1).padStart(2,"0"),r=a.getFullYear();return"".concat(t,"/").concat(r)},w={data:new Date().toISOString().split("T")[0],mes:N(new Date().toISOString().split("T")[0]),cliente:"",valor_proposto:0,valor_fechado:0,entrada:0,status:"Fechado",parcelado:!1,parcelas:1,valores_parcelas:null,datas_parcelas:null,observacoes:"",nota_fiscal:!1};function k(){let[e,a]=(0,s.useState)([]),[t,k]=(0,s.useState)([]),[_,C]=(0,s.useState)(!0),[E,S]=(0,s.useState)(!1),[A,O]=(0,s.useState)(null),[T,D]=(0,s.useState)(null),[I,L]=(0,s.useState)(!1),[R,M]=(0,s.useState)(null),[Z,P]=(0,s.useState)(w),[F,G]=(0,s.useState)(""),[q,z]=(0,s.useState)("Todos"),[U,V]=(0,s.useState)("Todos"),J=(0,s.useRef)(null);(0,s.useEffect)(()=>{B()},[]),(0,s.useEffect)(()=>{W()},[e,F,q,U]);let B=async()=>{try{C(!0);let e=await (0,v.SL)();a(e),O(null)}catch(e){console.error("Erro ao carregar dados:",e),O("Erro ao carregar dados")}finally{C(!1)}},W=()=>{let a=[...e];F&&(a=a.filter(e=>e.cliente.toLowerCase().includes(F.toLowerCase()))),"Todos"!==q&&(a=a.filter(e=>e.mes===q)),"Todos"!==U&&(a=a.filter(e=>e.status===U)),k(a)},K=e=>{if(D(null),e)M(e.id),P({data:e.data,mes:e.mes,cliente:e.cliente,valor_proposto:e.valor_proposto,valor_fechado:e.valor_fechado,entrada:e.entrada||0,status:e.status,parcelado:e.parcelado||!1,parcelas:e.parcelas||1,valores_parcelas:e.valores_parcelas||null,datas_parcelas:e.datas_parcelas||null,observacoes:e.observacoes||"",nota_fiscal:e.nota_fiscal||!1});else{M(null);let e=new Date().toISOString().split("T")[0];P({...w,data:e,mes:N(e)})}L(!0)},Q=()=>{L(!1),M(null),P(w),D(null)},X=e=>{P({...Z,data:e,mes:N(e)})},Y=(e,a)=>{let t=new Date((a||Z.data)+"T00:00:00"),r=[];for(let a=0;a<e;a++){let e=new Date(t);e.setMonth(e.getMonth()+a+1),r.push(e.toISOString().split("T")[0])}return r},H=e=>{let a=((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0))/e,t=Array(e).fill(a),r=Y(e);P({...Z,parcelas:e,valores_parcelas:t,datas_parcelas:r})},$=(e,a)=>{let t=[...Z.valores_parcelas||[]];t[e]=a,P({...Z,valores_parcelas:t})},ee=(e,a)=>{let t=[...Z.datas_parcelas||[]];t[e]=a,P({...Z,datas_parcelas:t})},ea=()=>Z.valores_parcelas?Z.valores_parcelas.reduce((e,a)=>e+(a||0),0):0,et=async e=>{e.preventDefault(),S(!0),D(null);try{R?await (0,v.JA)(R,Z):await (0,v.nx)(Z),await B(),Q()}catch(e){console.error("Erro ao salvar:",e),D(e instanceof Error?e.message:"Erro ao salvar or\xe7amento")}finally{S(!1)}},er=async e=>{if(confirm("Tem certeza que deseja excluir este or\xe7amento?"))try{await (0,v.GL)(e),await B()}catch(e){console.error("Erro ao excluir:",e),alert("Erro ao excluir or\xe7amento")}},es=["Todos",...Array.from(new Set(e.map(e=>e.mes)))];return _?(0,r.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,r.jsx)(g.TK,{size:"lg"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold font-heading text-white",children:"Or\xe7amentos"}),(0,r.jsx)("p",{className:"text-dark-400 mt-1",children:"Gerencie todos os seus or\xe7amentos"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)(h.z,{variant:"secondary",onClick:()=>{let e='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Relat\xf3rio de Or\xe7amentos</title>\n        <style>\n          * { margin: 0; padding: 0; box-sizing: border-box; }\n          body { font-family: Arial, sans-serif; padding: 20px; color: #333; }\n          h1 { text-align: center; margin-bottom: 10px; color: #059669; }\n          .info { text-align: center; margin-bottom: 20px; color: #666; font-size: 12px; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n          th, td { border: 1px solid #ddd; padding: 10px; text-align: left; font-size: 12px; }\n          th { background: #059669; color: white; }\n          tr:nth-child(even) { background: #f9f9f9; }\n          .status-fechado { color: #059669; font-weight: bold; }\n          .status-perdido { color: #dc2626; font-weight: bold; }\n          .status-analise { color: #f59e0b; font-weight: bold; }\n          .totais { margin-top: 20px; padding: 15px; background: #f0fdf4; border-radius: 8px; }\n          .totais h3 { color: #059669; margin-bottom: 10px; }\n          .totais p { margin: 5px 0; }\n          @media print {\n            body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }\n          }\n        </style>\n      </head>\n      <body>\n        <h1>\uD83D\uDCCA Relat\xf3rio de Or\xe7amentos</h1>\n        <p class="info">Gerado em '.concat(new Date().toLocaleDateString("pt-BR")," \xe0s ").concat(new Date().toLocaleTimeString("pt-BR"),"</p>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>Data</th>\n              <th>M\xeas</th>\n              <th>Cliente</th>\n              <th>Valor Proposto</th>\n              <th>Valor Fechado</th>\n              <th>Entrada</th>\n              <th>Status</th>\n              <th>Pagamento</th>\n              <th>NF</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(t.map(e=>"\n              <tr>\n                <td>".concat((0,j.p6)(e.data),"</td>\n                <td>").concat(e.mes,"</td>\n                <td>").concat(e.cliente,"</td>\n                <td>").concat((0,j.xG)(e.valor_proposto),"</td>\n                <td>").concat((0,j.xG)(e.valor_fechado),"</td>\n                <td>").concat((0,j.xG)(e.entrada||0),'</td>\n                <td class="').concat("Fechado"===e.status?"status-fechado":"An\xe1lise"===e.status?"status-analise":"status-perdido",'">').concat(e.status,"</td>\n                <td>").concat(e.parcelado?e.parcelas+"x":"\xc0 vista","</td>\n                <td>").concat(e.nota_fiscal?"✓ Sim":"✗ N\xe3o","</td>\n              </tr>\n            ")).join(""),'\n          </tbody>\n        </table>\n        \n        <div class="totais">\n          <h3>Resumo</h3>\n          <p><strong>Total de or\xe7amentos:</strong> ').concat(t.length,"</p>\n          <p><strong>Fechados:</strong> ").concat(t.filter(e=>"Fechado"===e.status).length,"</p>\n          <p><strong>Em An\xe1lise:</strong> ").concat(t.filter(e=>"An\xe1lise"===e.status).length,"</p>\n          <p><strong>Perdidos:</strong> ").concat(t.filter(e=>"Perdido"===e.status).length,"</p>\n          <p><strong>Com Nota Fiscal:</strong> ").concat(t.filter(e=>e.nota_fiscal).length,"</p>\n          <p><strong>Valor total proposto:</strong> ").concat((0,j.xG)(t.reduce((e,a)=>e+a.valor_proposto,0)),"</p>\n          <p><strong>Valor total fechado:</strong> ").concat((0,j.xG)(t.reduce((e,a)=>e+a.valor_fechado,0)),"</p>\n          <p><strong>Valor total entrada:</strong> ").concat((0,j.xG)(t.reduce((e,a)=>e+(a.entrada||0),0)),"</p>\n        </div>\n      </body>\n      </html>\n    "),a=window.open("","_blank","width=800,height=600");a&&(a.document.write(e),a.document.close(),a.focus(),a.print())},leftIcon:(0,r.jsx)(n.Z,{className:"w-4 h-4"}),children:"Imprimir"}),(0,r.jsx)(h.z,{variant:"secondary",onClick:()=>{let e=[["Data","M\xeas","Cliente","Valor Proposto","Valor Fechado","Entrada","Status","Parcelado","Parcelas","Nota Fiscal","Observa\xe7\xf5es"],...t.map(e=>[e.data,e.mes,e.cliente,e.valor_proposto,e.valor_fechado,e.entrada||0,e.status,e.parcelado?"Sim":"N\xe3o",e.parcelas,e.nota_fiscal?"Sim":"N\xe3o",'"'.concat((e.observacoes||"").replace(/"/g,'""'),'"')])].map(e=>e.join(",")).join("\n"),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download="orcamentos_".concat(new Date().toISOString().split("T")[0],".csv"),s.click(),URL.revokeObjectURL(r)},leftIcon:(0,r.jsx)(l.Z,{className:"w-4 h-4"}),children:"Exportar CSV"}),(0,r.jsx)(h.z,{onClick:()=>K(),leftIcon:(0,r.jsx)(o.Z,{className:"w-5 h-5"}),children:"Novo Or\xe7amento"})]})]}),(0,r.jsx)("div",{className:"glass-card p-4",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar por cliente...",value:F,onChange:e=>G(e.target.value),className:"input pl-12"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("select",{value:q,onChange:e=>z(e.target.value),className:"select min-w-[150px]",children:es.map(e=>(0,r.jsx)("option",{value:e,children:"Todos"===e?"Todos os meses":e},e))}),(0,r.jsxs)("select",{value:U,onChange:e=>V(e.target.value),className:"select min-w-[140px]",children:[(0,r.jsx)("option",{value:"Todos",children:"Todos status"}),(0,r.jsx)("option",{value:"Fechado",children:"Fechado"}),(0,r.jsx)("option",{value:"An\xe1lise",children:"An\xe1lise"}),(0,r.jsx)("option",{value:"Perdido",children:"Perdido"})]})]})]})}),(0,r.jsx)("div",{className:"glass-card overflow-hidden",ref:J,children:t.length>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"data-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Data"}),(0,r.jsx)("th",{children:"M\xeas"}),(0,r.jsx)("th",{children:"Cliente"}),(0,r.jsx)("th",{children:"Valor Proposto"}),(0,r.jsx)("th",{children:"Valor Fechado"}),(0,r.jsx)("th",{children:"Entrada"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Pagamento"}),(0,r.jsx)("th",{children:"NF"}),(0,r.jsx)("th",{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{className:"group",children:[(0,r.jsx)("td",{className:"text-dark-300",children:(0,j.p6)(e.data)}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-lg bg-dark-800 text-dark-300 text-sm",children:e.mes})}),(0,r.jsx)("td",{className:"font-medium text-white",children:e.cliente}),(0,r.jsx)("td",{className:"text-dark-300",children:(0,j.xG)(e.valor_proposto)}),(0,r.jsx)("td",{className:"text-primary-400 font-semibold",children:(0,j.xG)(e.valor_fechado)}),(0,r.jsx)("td",{className:"text-emerald-400",children:(0,j.xG)(e.entrada||0)}),(0,r.jsx)("td",{children:(0,r.jsxs)(g.Ct,{variant:"Fechado"===e.status?"success":"An\xe1lise"===e.status?"warning":"danger",children:["Fechado"===e.status?(0,r.jsx)(i.Z,{className:"w-3 h-3"}):"An\xe1lise"===e.status?null:(0,r.jsx)(d.Z,{className:"w-3 h-3"}),e.status]})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"relative group/parcela",children:[(0,r.jsx)("span",{className:"text-sm cursor-help ".concat(e.parcelado?"text-amber-400":"text-dark-400"),children:e.parcelado?"".concat(e.parcelas,"x"):"\xc0 vista"}),e.parcelado&&e.valores_parcelas&&e.valores_parcelas.length>0&&(0,r.jsx)("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover/parcela:block z-50",children:(0,r.jsxs)("div",{className:"bg-dark-900 border border-dark-600 rounded-lg p-3 shadow-xl min-w-[250px]",children:[(0,r.jsx)("p",{className:"text-xs text-dark-400 mb-2 font-medium",children:"Detalhes das Parcelas:"}),(0,r.jsx)("div",{className:"space-y-1.5 max-h-40 overflow-y-auto",children:e.valores_parcelas.map((a,t)=>{var s;return(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs gap-3",children:[(0,r.jsxs)("span",{className:"text-primary-400 font-medium",children:[t+1,"\xaa"]}),(0,r.jsx)("span",{className:"text-dark-400 flex-1",children:(null===(s=e.datas_parcelas)||void 0===s?void 0:s[t])?(0,j.p6)(e.datas_parcelas[t]):"-"}),(0,r.jsx)("span",{className:"text-amber-400 font-medium",children:(0,j.xG)(a)})]},t)})}),(0,r.jsxs)("div",{className:"border-t border-dark-600 mt-2 pt-2 flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-dark-300",children:"Total:"}),(0,r.jsx)("span",{className:"text-white font-bold",children:(0,j.xG)(e.valores_parcelas.reduce((e,a)=>e+a,0))})]})]})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"text-sm font-medium ".concat(e.nota_fiscal?"text-emerald-400":"text-red-400"),children:e.nota_fiscal?"✓ Sim":"✗ N\xe3o"})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("button",{onClick:()=>K(e),className:"p-2 rounded-lg text-dark-400 hover:text-primary-400 hover:bg-primary-500/10 transition-colors",title:"Editar",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>er(e.id),className:"p-2 rounded-lg text-dark-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Excluir",children:(0,r.jsx)(m.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})}):(0,r.jsx)(g.ub,{title:"Nenhum or\xe7amento encontrado",description:F||"Todos"!==q||"Todos"!==U?"Tente ajustar os filtros":"Adicione seu primeiro or\xe7amento clicando no bot\xe3o acima",action:(0,r.jsx)(h.z,{onClick:()=>K(),leftIcon:(0,r.jsx)(o.Z,{className:"w-4 h-4"}),children:"Novo Or\xe7amento"})})}),(0,r.jsx)(b.u,{isOpen:I,onClose:Q,title:R?"Editar Or\xe7amento":"Novo Or\xe7amento",size:"lg",children:(0,r.jsxs)("form",{onSubmit:et,className:"space-y-5",children:[T&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-sm text-red-300",children:T}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(f.II,{label:"Data",type:"date",required:!0,value:Z.data,onChange:e=>X(e.target.value)}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(f.II,{label:"Cliente",placeholder:"Nome do cliente",required:!0,value:Z.cliente,onChange:e=>P({...Z,cliente:e.target.value})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:["Valor Proposto ",(0,r.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-dark-400",children:"R$"}),(0,r.jsx)("input",{type:"text",className:"input pl-12",placeholder:"0,00",required:!0,value:Z.valor_proposto?(0,j.Wi)(Z.valor_proposto):"",onChange:e=>{let a=(0,j.fj)(e.target.value),t=(0,j.Wt)(a);P({...Z,valor_proposto:t})}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"Valor Fechado"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-dark-400",children:"R$"}),(0,r.jsx)("input",{type:"text",className:"input pl-12",placeholder:"0,00",value:Z.valor_fechado?(0,j.Wi)(Z.valor_fechado):"",onChange:e=>{let a=(0,j.fj)(e.target.value),t=(0,j.Wt)(a);P({...Z,valor_fechado:t})}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"Entrada"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-dark-400",children:"R$"}),(0,r.jsx)("input",{type:"text",className:"input pl-12",placeholder:"0,00",value:Z.entrada?(0,j.Wi)(Z.entrada):"",onChange:e=>{let a=(0,j.fj)(e.target.value),t=(0,j.Wt)(a);P({...Z,entrada:t})}})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(f.Ph,{label:"Status",required:!0,options:y,value:Z.status,onChange:e=>P({...Z,status:e.target.value})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"Forma de Pagamento"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>P({...Z,parcelado:!1,parcelas:1,valores_parcelas:null,datas_parcelas:null}),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium transition-all ".concat(Z.parcelado?"bg-dark-800 text-dark-400 border-2 border-dark-700 hover:border-dark-600":"bg-primary-500/20 text-primary-400 border-2 border-primary-500"),children:"\xc0 Vista"}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Z.parcelas>=2?Z.parcelas:2,a=((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0))/e,t=Array(e).fill(a),r=Y(e);P({...Z,parcelado:!0,parcelas:e,valores_parcelas:t,datas_parcelas:r})},className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium transition-all ".concat(Z.parcelado?"bg-primary-500/20 text-primary-400 border-2 border-primary-500":"bg-dark-800 text-dark-400 border-2 border-dark-700 hover:border-dark-600"),children:"Parcelado"})]})]})]}),Z.parcelado&&(0,r.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"N\xfamero de Parcelas"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"range",min:"2",max:"24",value:Z.parcelas,onChange:e=>H(parseInt(e.target.value)),className:"flex-1 h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),(0,r.jsxs)("span",{className:"w-16 text-center py-2 px-3 rounded-lg bg-dark-800 text-primary-400 font-bold text-lg",children:[Z.parcelas,"x"]})]})]}),(0,r.jsxs)("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3 flex-wrap gap-2",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-dark-300 flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-primary-400"}),"Detalhes das Parcelas"]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=Y(Z.parcelas);P({...Z,datas_parcelas:e})},className:"text-xs text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1",children:[(0,r.jsx)(p.Z,{className:"w-3 h-3"}),"Datas mensais"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0))/Z.parcelas,a=Array(Z.parcelas).fill(e);P({...Z,valores_parcelas:a})},className:"text-xs text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"w-3 h-3"}),"Dividir igualmente"]})]})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:Array.from({length:Z.parcelas}).map((e,a)=>{var t,s,n;return(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center bg-dark-900/50 rounded-lg p-2",children:[(0,r.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,r.jsxs)("span",{className:"text-xs font-medium text-primary-400 bg-primary-500/20 px-2 py-1 rounded-full",children:[a+1,"\xaa"]})}),(0,r.jsx)("div",{className:"col-span-5 md:col-span-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-dark-500"}),(0,r.jsx)("input",{type:"date",className:"input pl-7 py-1.5 text-sm",value:(null===(t=Z.datas_parcelas)||void 0===t?void 0:t[a])||"",onChange:e=>ee(a,e.target.value)})]})}),(0,r.jsx)("div",{className:"col-span-5 md:col-span-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-dark-500 text-xs",children:"R$"}),(0,r.jsx)("input",{type:"text",className:"input pl-8 py-1.5 text-sm",placeholder:"0,00",value:(null===(s=Z.valores_parcelas)||void 0===s?void 0:s[a])?(0,j.Wi)(Z.valores_parcelas[a]):"",onChange:e=>{let t=(0,j.fj)(e.target.value);$(a,(0,j.Wt)(t))}})]})}),(0,r.jsx)("div",{className:"hidden md:block col-span-3 text-right",children:(0,r.jsx)("span",{className:"text-xs text-dark-400",children:(null===(n=Z.datas_parcelas)||void 0===n?void 0:n[a])?(0,j.p6)(Z.datas_parcelas[a]):""})})]},a)})}),(0,r.jsxs)("div",{className:"mt-4 pt-3 border-t border-dark-700 flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"text-xs text-dark-400",children:[(0,r.jsx)("span",{children:"Valor a parcelar: "}),(0,r.jsx)("span",{className:"text-white font-medium",children:(0,j.xG)((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0))})]}),(0,r.jsxs)("div",{className:"text-xs",children:[(0,r.jsx)("span",{className:"text-dark-400",children:"Total das parcelas: "}),(0,r.jsx)("span",{className:"font-medium ".concat(.01>Math.abs(ea()-((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0)))?"text-green-400":"text-yellow-400"),children:(0,j.xG)(ea())}),Math.abs(ea()-((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0)))>=.01&&(0,r.jsxs)("span",{className:"text-yellow-400 ml-2",children:["(diferen\xe7a: ",(0,j.xG)(ea()-((Z.valor_fechado||Z.valor_proposto)-(Z.entrada||0))),")"]})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"Nota Fiscal"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>P({...Z,nota_fiscal:!0}),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium transition-all ".concat(Z.nota_fiscal?"bg-emerald-500/20 text-emerald-400 border-2 border-emerald-500":"bg-dark-800 text-dark-400 border-2 border-dark-700 hover:border-dark-600"),children:"✓ Com Nota Fiscal"}),(0,r.jsx)("button",{type:"button",onClick:()=>P({...Z,nota_fiscal:!1}),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium transition-all ".concat(Z.nota_fiscal?"bg-dark-800 text-dark-400 border-2 border-dark-700 hover:border-dark-600":"bg-red-500/20 text-red-400 border-2 border-red-500"),children:"✗ Sem Nota Fiscal"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{placeholder:"Digite observa\xe7\xf5es sobre o or\xe7amento...",value:Z.observacoes||"",onChange:e=>P({...Z,observacoes:e.target.value}),rows:3,className:"input resize-none"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-700",children:[(0,r.jsx)(h.z,{type:"button",variant:"secondary",onClick:Q,children:"Cancelar"}),(0,r.jsx)(h.z,{type:"submit",isLoading:E,children:R?"Salvar Altera\xe7\xf5es":"Criar Or\xe7amento"})]})]})})]})}},66651:function(e,a,t){"use strict";t.d(a,{z:function(){return l}});var r=t(57437),s=t(86264),n=t(22169);function l(e){let{children:a,className:t,variant:l="primary",size:o="md",isLoading:c=!1,leftIcon:i,rightIcon:d,disabled:u,...m}=e;return(0,r.jsxs)("button",{className:(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",ghost:"btn-ghost"}[l],{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[o],t),disabled:u||c,...m,children:[c?(0,r.jsx)(s.Z,{className:"w-4 h-4 animate-spin"}):i,a,!c&&d]})}},548:function(e,a,t){"use strict";t.d(a,{Ct:function(){return c},TK:function(){return o},ub:function(){return l}});var r=t(57437),s=t(22169),n=t(92851);function l(e){let{icon:a,title:t,description:s,action:l}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-dark-800 flex items-center justify-center mb-6",children:a||(0,r.jsx)(n.Z,{className:"w-10 h-10 text-dark-500"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:t}),s&&(0,r.jsx)("p",{className:"text-dark-400 max-w-sm mb-6",children:s}),l]})}function o(e){let{size:a="md"}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:(0,s.cn)("rounded-full border-dark-700 border-t-primary-500 animate-spin",{sm:"w-6 h-6 border-2",md:"w-10 h-10 border-3",lg:"w-16 h-16 border-4"}[a])})})}function c(e){let{children:a,variant:t="success",size:n="md",className:l}=e;return(0,r.jsx)("span",{className:(0,s.cn)("badge",{success:"badge-success",danger:"badge-danger",warning:"badge-warning",info:"badge-info",primary:"badge-info",secondary:"bg-dark-600 text-dark-300"}[t],{sm:"text-xs px-1.5 py-0.5",md:"text-xs px-2 py-1",lg:"text-sm px-3 py-1.5"}[n],l),children:a})}},47049:function(e,a,t){"use strict";t.d(a,{II:function(){return l},Kx:function(){return i},Ph:function(){return o},Wh:function(){return c}});var r=t(57437),s=t(22169),n=t(2265);let l=(0,n.forwardRef)((e,a)=>{let{className:t,label:n,error:l,required:o,type:c,...i}=e;return(0,r.jsxs)("div",{className:"space-y-1.5",children:[n&&(0,r.jsx)("label",{className:(0,s.cn)("label",o&&"label-required"),children:n}),(0,r.jsx)("input",{type:c,className:(0,s.cn)("input",l&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",t),ref:a,...i}),l&&(0,r.jsx)("p",{className:"text-xs text-red-400 mt-1",children:l})]})});l.displayName="Input";let o=(0,n.forwardRef)((e,a)=>{let{className:t,label:n,error:l,required:o,options:c,...i}=e;return(0,r.jsxs)("div",{className:"space-y-1.5",children:[n&&(0,r.jsx)("label",{className:(0,s.cn)("label",o&&"label-required"),children:n}),(0,r.jsx)("select",{className:(0,s.cn)("select",l&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",t),ref:a,...i,children:c.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),l&&(0,r.jsx)("p",{className:"text-xs text-red-400 mt-1",children:l})]})});o.displayName="Select";let c=(0,n.forwardRef)((e,a)=>{let{className:t,label:n,error:l,required:o,children:c,...i}=e;return(0,r.jsxs)("div",{className:"space-y-1.5",children:[n&&(0,r.jsx)("label",{className:(0,s.cn)("label",o&&"label-required"),children:n}),(0,r.jsx)("select",{className:(0,s.cn)("select",l&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",t),ref:a,...i,children:c}),l&&(0,r.jsx)("p",{className:"text-xs text-red-400 mt-1",children:l})]})});c.displayName="SelectChildren";let i=(0,n.forwardRef)((e,a)=>{let{className:t,label:n,error:l,required:o,...c}=e;return(0,r.jsxs)("div",{className:"space-y-1.5",children:[n&&(0,r.jsx)("label",{className:(0,s.cn)("label",o&&"label-required"),children:n}),(0,r.jsx)("textarea",{className:(0,s.cn)("input min-h-[80px] resize-y",l&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",t),ref:a,...c}),l&&(0,r.jsx)("p",{className:"text-xs text-red-400 mt-1",children:l})]})});i.displayName="TextArea",(0,n.forwardRef)((e,a)=>{let{className:t,label:n,...l}=e;return(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,r.jsx)("input",{type:"checkbox",className:(0,s.cn)("checkbox",t),ref:a,...l}),n&&(0,r.jsx)("span",{className:"text-sm text-dark-300 group-hover:text-white transition-colors",children:n})]})}).displayName="Checkbox"},70492:function(e,a,t){"use strict";t.d(a,{u:function(){return o}});var r=t(57437),s=t(82549),n=t(2265),l=t(22169);function o(e){let{isOpen:a,onClose:t,title:o,children:c,size:i="md"}=e;return((0,n.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),a)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),(0,r.jsxs)("div",{className:(0,l.cn)("relative w-full bg-dark-900 border border-dark-700 rounded-2xl shadow-2xl animate-slide-up",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-700",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white",children:o}),(0,r.jsx)("button",{onClick:t,className:"p-2 rounded-xl text-dark-400 hover:text-white hover:bg-dark-800 transition-colors",children:(0,r.jsx)(s.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"px-6 py-6 max-h-[70vh] overflow-y-auto scrollbar-thin",children:c})]})]}):null}},14958:function(e,a,t){"use strict";t.d(a,{AE:function(){return p},AT:function(){return N},FZ:function(){return j},GL:function(){return o},Gx:function(){return u},JA:function(){return l},Kx:function(){return v},OQ:function(){return r},Qf:function(){return b},S3:function(){return w},SE:function(){return c},SL:function(){return s},VR:function(){return d},gQ:function(){return f},hM:function(){return i},mU:function(){return y},nx:function(){return n},r0:function(){return m},uY:function(){return x},y5:function(){return h},zM:function(){return g}});let r=(0,t(69073).eI)("https://yhiiupamxdjmnrktkjku.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloaWl1cGFteGRqbW5ya3Rramt1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0ODg2NzUsImV4cCI6MjA4NDA2NDY3NX0._QjYtYAlypJdursHe0-rPz14QOT4NNP2EklqcJ6TpkI");async function s(){let{data:e,error:a}=await r.from("orcamentos").select("*").order("data",{ascending:!1});if(a)throw console.error("Erro ao buscar or\xe7amentos:",a),a;return e||[]}async function n(e){let{data:a,error:t}=await r.from("orcamentos").insert([e]).select().single();if(t)throw console.error("Erro ao criar or\xe7amento:",t),Error(t.message);return a}async function l(e,a){let{data:t,error:s}=await r.from("orcamentos").update(a).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar or\xe7amento:",s),Error(s.message);return t}async function o(e){let{error:a}=await r.from("orcamentos").delete().eq("id",e);if(a)throw console.error("Erro ao excluir or\xe7amento:",a),Error(a.message)}async function c(){let{data:e,error:a}=await r.from("materiais").select("*").order("nome",{ascending:!0});if(a)throw console.error("Erro ao buscar materiais:",a),a;return e||[]}async function i(e){let{data:a,error:t}=await r.from("materiais").insert([e]).select().single();if(t)throw console.error("Erro ao criar material:",t),Error(t.message);return a}async function d(e,a){let{data:t,error:s}=await r.from("materiais").update(a).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar material:",s),Error(s.message);return t}async function u(e){let{error:a}=await r.from("materiais").delete().eq("id",e);if(a)throw console.error("Erro ao excluir material:",a),Error(a.message)}async function m(){let{data:e,error:a}=await r.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente, status)\n    ").order("created_at",{ascending:!1});if(a)throw console.error("Erro ao buscar obras:",a),a;return e||[]}async function x(){let{data:e,error:a}=await r.from("obras").select("\n      *,\n      orcamento:orcamentos(id, cliente)\n    ").eq("status","em_andamento").order("created_at",{ascending:!1});if(a)throw console.error("Erro ao buscar obras em andamento:",a),a;return e||[]}async function p(e){let{data:a,error:t}=await r.from("obras").insert([e]).select().single();if(t)throw console.error("Erro ao criar obra:",t),Error(t.message);return a}async function h(e,a){let{data:t,error:s}=await r.from("obras").update(a).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar obra:",s),Error(s.message);return t}async function f(e){let{error:a}=await r.from("obras").delete().eq("id",e);if(a)throw console.error("Erro ao excluir obra:",a),Error(a.message)}async function b(e){let{data:a,error:t}=await r.from("obra_materiais").select("\n      *,\n      material:materiais(id, nome)\n    ").eq("obra_id",e);if(t)throw console.error("Erro ao buscar materiais da obra:",t),t;return a||[]}async function g(e){let{data:a}=await r.from("obra_materiais").select("id").eq("obra_id",e.obra_id).eq("material_id",e.material_id).single();if(a){let{data:t,error:s}=await r.from("obra_materiais").update({quantidade:e.quantidade}).eq("id",a.id).select().single();if(s)throw Error(s.message);return t}{let{data:a,error:t}=await r.from("obra_materiais").insert([e]).select().single();if(t)throw Error(t.message);return a}}async function v(e,a){let{data:t,error:s}=await r.from("usuarios").select("*").ilike("email",e.trim()).eq("senha",a).single();return s?(console.error("Erro no login:",s),null):t}async function j(){let{data:e,error:a}=await r.from("usuarios").select("*").order("nome",{ascending:!0});if(a)throw console.error("Erro ao buscar usu\xe1rios:",a),a;return e||[]}async function y(e){let{data:a,error:t}=await r.from("usuarios").insert([e]).select().single();if(t)throw console.error("Erro ao criar usu\xe1rio:",t),Error(t.message);return a}async function N(e,a){let{data:t,error:s}=await r.from("usuarios").update(a).eq("id",e).select().single();if(s)throw console.error("Erro ao atualizar usu\xe1rio:",s),Error(s.message);return t}async function w(e){let{error:a}=await r.from("usuarios").delete().eq("id",e);if(a)throw console.error("Erro ao excluir usu\xe1rio:",a),Error(a.message)}},22169:function(e,a,t){"use strict";t.d(a,{K3:function(){return x},T3:function(){return c},Wi:function(){return d},Wt:function(){return u},cn:function(){return n},d5:function(){return i},fj:function(){return m},p6:function(){return o},xG:function(){return l},zm:function(){return f}});var r=t(57042),s=t(74769);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}function l(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function o(e){if(!e)return"-";let a=new Date(e);return isNaN(a.getTime())?"-":a.toLocaleDateString("pt-BR")}function c(e){return"".concat(e.toFixed(1),"%")}function i(e,a){return a&&0!==a?e/a*100:0}function d(e){return("string"==typeof e?parseFloat(e)||0:e).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function u(e){return e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0}function m(e){let a=e.replace(/\D/g,"");return a?(parseInt(a)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function x(e){return"".concat("/controle-orcamentos").concat(e)}let p=["UN","PC","KG","G","L","ML","M","CM","M2","M3","CX","PAR","SC","FD","PCT","RL","TON","DZ","CT","BD","JG","KIT","AMPOLA","UNID","PECA","METRO","LITRO","QUILO","CAIXA","SACO","FARDO","PACOTE","ROLO","DUZIA","CARTELA","BALDE","JOGO"],h={UNID:"UN",UNIDADE:"UN",UNIDADES:"UN",PECA:"PC",PEÇA:"PC",PECAS:"PC",PEÇAS:"PC",METRO:"M",METROS:"M",LITRO:"L",LITROS:"L",QUILO:"KG",QUILOS:"KG",QUILOGRAMA:"KG",QUILOGRAMAS:"KG",GRAMA:"G",GRAMAS:"G",MILILITRO:"ML",MILILITROS:"ML",CENTIMETRO:"CM",CENTIMETROS:"CM",CENTÍMETRO:"CM",CENTÍMETROS:"CM",CAIXA:"CX",CAIXAS:"CX",SACO:"SC",SACOS:"SC",FARDO:"FD",FARDOS:"FD",PACOTE:"PCT",PACOTES:"PCT",ROLO:"RL",ROLOS:"RL",TONELADA:"TON",TONELADAS:"TON",DUZIA:"DZ",DÚZIA:"DZ",DUZIAS:"DZ",CARTELA:"CT",CARTELAS:"CT",BALDE:"BD",BALDES:"BD",JOGO:"JG",JOGOS:"JG"};function f(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UN";if(null==e)return a;if("number"==typeof e)return console.warn("[normalizeUnidade] Valor num\xe9rico recebido: ".concat(e,". Usando default: ").concat(a)),a;let t=String(e).trim().toUpperCase();if(!t)return a;if(/^\d+$/.test(t))return console.warn('[normalizeUnidade] String num\xe9rica recebida: "'.concat(e,'". Usando default: ').concat(a)),a;if(h[t])return h[t];if(p.includes(t))return t;let r=t.split(/\s+/)[0];return p.includes(r)?r:h[r]?h[r]:(console.warn('[normalizeUnidade] Unidade desconhecida: "'.concat(e,'". Usando default: ').concat(a)),a)}}},function(e){e.O(0,[149,985,971,938,744],function(){return e(e.s=41803)}),_N_E=e.O()}]);